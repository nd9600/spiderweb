!function(t){function e(e){for(var o,i,r=e[0],l=e[1],c=e[2],u=0,h=[];u<r.length;u++)i=r[u],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&h.push(a[i][0]),a[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);for(d&&d(e);h.length;)h.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],o=!0,r=1;r<s.length;r++){var l=s[r];0!==a[l]&&(o=!1)}o&&(n.splice(e--,1),t=i(i.s=s[0]))}return t}var o={},a={0:0},n=[];function i(e){if(o[e])return o[e].exports;var s=o[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=o,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(s,o,function(e){return t[e]}.bind(null,o));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window.webpackJsonp=window.webpackJsonp||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;n.push(["XgLK",1]),s()}({"+9Up":function(t,e,s){var o=s("zpsd");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,s("SZ7m").default)("6e4a8278",o,!0,{})},"/FKi":function(t,e,s){(e=s("JPst")(!1)).push([t.i,"\n.postToAttach[data-v-6dae4b0c]:not(:last-of-type) {\n    border-bottom: 1px solid #f56565;\n}\n",""]),t.exports=e},"4u6i":function(t,e,s){var o=s("8krn");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,s("SZ7m").default)("bc705612",o,!0,{})},"8krn":function(t,e,s){(e=s("JPst")(!1)).push([t.i,"\n.setting[data-v-0ae0b30a] {\n    padding: 1rem 2rem;\n\n    background-color: white;\n    border-radius: 1rem;\n    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n}\n.setting[data-v-0ae0b30a]:not(:last-of-type) {\n    margin-bottom: 2rem;\n}\n",""]),t.exports=e},EYFr:function(t,e,s){(e=s("JPst")(!1)).push([t.i,"\n.textareaBody[data-v-ceb91494] {\n    min-height: 75px;\n    max-height: 50%;\n}\n",""]),t.exports=e},LRN4:function(t,e,s){(e=s("JPst")(!1)).push([t.i,'\n.post[data-v-b84a5ebe] {\n    background: white;\n\n    overflow-y: auto;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n}\n@media (max-width: 768px) {\n.post[data-v-b84a5ebe] {\n        min-width: 92% !important;\n}\n}\n.focusButton[data-v-b84a5ebe] {\n    cursor: crosshair;\n}\n.transition-150[data-v-b84a5ebe] {\n    transition: all 150ms ease-in-out;\n}\n.bottomLink--unselected[data-v-b84a5ebe] {\n    color: #a0aec0;\n}\n.bottomLink--selected[data-v-b84a5ebe] {\n    color: #2d3748;\n}\n.bottomLink[data-v-b84a5ebe]:hover {\n     color: #2d3748;\n}\n.bottomLink[data-v-b84a5ebe]:not(:last-of-type):after {\n    margin: 0 0.25rem;\n    content: "⋅";\n}\n',""]),t.exports=e},MZq6:function(t,e,s){var o=s("V5KA");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,s("SZ7m").default)("1d9e5767",o,!0,{})},"OC+R":function(t,e,s){"use strict";var o=s("+9Up");s.n(o).a},SklF:function(t,e,s){"use strict";var o=s("peJi");s.n(o).a},TREb:function(t,e,s){var o=s("/FKi");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,s("SZ7m").default)("0fd5579c",o,!0,{})},V5KA:function(t,e,s){(e=s("JPst")(!1)).push([t.i,"\n:root {\n    --node-text-size: 48px;\n    --link-stroke-width: 20px;\n}\n#graphSvg {\n    min-width: 33%;\n}\n.graph__link {\n    fill: none;\n    stroke-width: var(--link-stroke-width);\n    cursor: pointer;\n}\n.graph__link--sidenote {\n    stroke-dasharray: 50, 50;\n}\n.graph__link--link {\n    stroke-dasharray: 10, 10;\n}\n.node__circle {\n    fill: #353535;\n    stroke: none;\n    cursor: pointer;\n}\n.node__text {\n    cursor: pointer;\n    text-shadow: 0 1px 0 #fff, 1px 0 0 #fff, 0 -1px 0 #fff, -1px 0 0 #fff;\n    fill: #333333;\n\n    font-size: var(--node-text-size);\n    font-weight: bold;\n    stroke-width: 0;\n}\n",""]),t.exports=e},XgLK:function(t,e,s){"use strict";s.r(e);var o=s("oCYn"),a=s("L2JU"),n=s("AKWm"),i=s("4k54"),r=s("Enya"),l=s("AWXE"),c=s("Ckr6"),d=s("2TRZ"),u=s("AJ/N"),h=s("sEfC"),p=s.n(h),g={name:"PostSearch",data:()=>({searchTerm:"",isLoadingSearchResults:!1,searchResults:[]}),computed:{...Object(a.e)("dataModule",["posts"]),...Object(a.c)("dataModule",["titleOrBody","postIdsThatLinkToPost"])},watch:{searchTerm(t){const e=t.trim().toLowerCase();if(0===e.length)return this.searchResults=[],void(this.isLoadingSearchResults=!1);this.isLoadingSearchResults=!0,this.searchResults=Object.values(this.posts).filter(t=>t.title.toLowerCase().includes(e)||t.body.toLowerCase().includes(e)).sort((t,e)=>{const s=t.title.length>0?t.title:t.body,o=e.title.length>0?e.title:e.body;return s<o?-1:o<s?1:0}).slice(0,25),this.isLoadingSearchResults=!1}},mounted(){this.$refs.searchInput.focus()}},m=s("KHd+"),b=Object(m.a)(g,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],ref:"searchInput",staticClass:"p-2 w-full input input--primary",attrs:{type:"text",placeholder:"On the Origin of Species",minlength:"0",maxlength:"50",title:"search for a post"},domProps:{value:t.searchTerm},on:{input:function(e){e.target.composing||(t.searchTerm=e.target.value)}}})]),t._v(" "),t.isLoadingSearchResults?s("div",{staticClass:"mt-1 flex justify-center items-center"},[s("div",{staticClass:"spinner"})]):t.searchResults.length>0?s("div",t._l(t.searchResults,(function(e){return s("div",{key:e.id,staticClass:"mt-2 p-1 cursor-pointer bg-red-200 hover:bg-red-300 rounded-lg",on:{click:function(s){return t.$emit("clickedOnResult",e)}}},[e.title.length>0?s("span",{staticClass:"font-bold"},[t._v("\n                "+t._s(e.title)+"\n            ")]):t._e(),t._v(" "),e.body.length>0?s("p",{staticClass:"text-xs"},[t._v("\n                "+t._s(e.body.substr(0,200))+t._s(e.body.length>200?"...":"")+"\n            ")]):t._e()])})),0):t._e()])}),[],!1,null,null,null).exports,v={name:"LinkEditor",components:{PostSearch:b},props:{link:{type:Object,required:!0}},data(){return{source:this.link.source,target:this.link.target,type:this.link.type}},computed:{...Object(a.e)("dataModule",["subgraphs","posts"]),...Object(a.c)("dataModule",["postIds","titleOrBody"]),subgraphsLinkIsIn:{get(){return this.$store.getters["dataModule/subgraphsLinkIsIn"](this.link.id)},set(t){this.setSubgraphsLinkIsIn({linkId:this.link.id,subgraphsLinkIsIn:t})}},wantsToChangeSource:{get(){return this.$store.state.clickerModule.wantsToChangeSource},set(t){this.setWantsToChangeSource(t)}},wantsToChangeTarget:{get(){return this.$store.state.clickerModule.wantsToChangeTarget},set(t){this.setWantsToChangeTarget(t)}}},watch:{subgraphId:"updateLinkLocal",source:"updateLinkLocal",target:"updateLinkLocal",type:"updateLinkLocal"},methods:{...Object(a.d)("dataModule",["setSubgraphsLinkIsIn","updateLink","removeLink"]),...Object(a.d)("clickerModule",["setWantsToChangeSource","setWantsToChangeTarget"]),onPostClick(t,e){"source"===t?(this.source=e.id,this.wantsToChangeSource=!1):(this.target=e.id,this.wantsToChangeTarget=!1)},updateLinkLocal(){this.updateLink({id:this.link.id,graph:this.link.graph,source:this.source,target:this.target,type:this.type,updatedAt:(new Date).toISOString()}),this.$emit("updatedLink",this.link.id)},removeLinkLocal(){this.removeLink({id:this.link.id}),this.$emit("removedLink",this.link.id)}}},f=Object(m.a)(v,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("label",[t._v("\n        The link is a\n        "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"select select--secondary mb-2",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.type=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"reply"}},[t._v("\n                reply\n            ")]),t._v(" "),s("option",{attrs:{value:"sidenote"}},[t._v("\n                sidenote\n            ")]),t._v(" "),s("option",{attrs:{value:"link"}},[t._v("\n                link\n            ")])])]),t._v(" "),Object.keys(t.subgraphs).length>0?s("label",[t._v("\n        in the subgraphs ("+t._s(t.subgraphsLinkIsIn.length)+")\n        "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.subgraphsLinkIsIn,expression:"subgraphsLinkIsIn"}],staticClass:"select select--secondary mb-2",attrs:{multiple:"",size:Math.min(Object.keys(t.subgraphs).length,3)},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.subgraphsLinkIsIn=e.target.multiple?s:s[0]}}},t._l(t.subgraphs,(function(e,o){return s("option",{key:o,domProps:{value:o}},[t._v("\n                "+t._s(e.name)+"\n            ")])})),0)]):t._e(),t._v(" "),s("p",{staticClass:"mt-2 mb-6"},[t._v("\n        from\n        "),t.wantsToChangeSource?s("PostSearch",{staticClass:"ml-2",on:{clickedOnResult:function(e){return t.onPostClick("source",e)}}}):s("span",{staticClass:"text-red"},[t._v("\n            "+t._s(t.titleOrBody(t.source))+"\n        ")]),t._v(" "),s("span",{class:t.wantsToChangeSource?"block":""},[t.wantsToChangeSource?s("sub",{staticClass:"my-2 text-xs text-gray-500"},[t._v("\n                search for a post's title/body, or click on a post\n            ")]):t._e(),t._v(" "),s("button",{staticClass:"btn btn--secondary mt-2 ml-4",attrs:{type:"button"},on:{click:function(e){t.wantsToChangeSource=!t.wantsToChangeSource}}},[t._v("\n                "+t._s(t.wantsToChangeSource?"Cancel":"Change")+"\n            ")])])],1),t._v(" "),s("hr"),t._v(" "),s("p",{staticClass:"mt-6 mb-10"},[t._v("\n        to\n        "),t.wantsToChangeTarget?s("PostSearch",{staticClass:"ml-2",on:{clickedOnResult:function(e){return t.onPostClick("target",e)}}}):s("span",{staticClass:"text-red"},[t._v("\n            "+t._s(t.titleOrBody(t.target))+"\n        ")]),t._v(" "),s("span",{class:t.wantsToChangeTarget?"block":""},[t.wantsToChangeTarget?s("sub",{staticClass:"my-2 text-xs text-gray-500"},[t._v("\n                search for a post's title/body, or click on a post\n            ")]):t._e(),t._v(" "),s("button",{staticClass:"btn btn--secondary mt-2 ml-4",attrs:{type:"button"},on:{click:function(e){t.wantsToChangeTarget=!t.wantsToChangeTarget}}},[t._v("\n                "+t._s(t.wantsToChangeTarget?"Cancel":"Change")+"\n            ")])])],1),t._v(" "),s("button",{staticClass:"btn btn--secondary mb-4 py-1 px-2 block",on:{click:t.removeLinkLocal}},[t._v("\n        🗑 remove link\n    ")])])}),[],!1,null,null,null).exports,k={name:"LinkAdder",components:{PostSearch:b},computed:{...Object(a.e)("dataModule",["subgraphs","selectedSubgraphIds"]),...Object(a.c)("dataModule",["titleOrBody"]),...Object(a.e)("clickerModule",["newLinkSource"]),newLinkSubgraphIds:{get(){return this.$store.state.clickerModule.newLinkSubgraphIds},set(t){this.setNewLinkSubgraphIds(t)}},newLinkType:{get(){return this.$store.state.clickerModule.newLinkType},set(t){this.setNewLinkType(t)}}},created(){this.newLinkSubgraphIds=this.selectedSubgraphIds},methods:{...Object(a.d)("clickerModule",["setNewLinkSource","setNewLinkType","setNewLinkSubgraphIds"]),...Object(a.b)("clickerModule",["handlePostClick"])}},y=Object(m.a)(k,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("label",{staticClass:"mb-4"},[t._v("\n        The new link will be a\n        "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.newLinkType,expression:"newLinkType"}],staticClass:"select select--secondary mb-2",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.newLinkType=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"reply"}},[t._v("\n                reply\n            ")]),t._v(" "),s("option",{attrs:{value:"sidenote"}},[t._v("\n                sidenote\n            ")]),t._v(" "),s("option",{attrs:{value:"link"}},[t._v("\n                link\n            ")])]),t._v(" "),Object.keys(t.subgraphs).length>0?[t._v("\n            in the subgraphs ("+t._s(t.newLinkSubgraphIds.length)+")\n            "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.newLinkSubgraphIds,expression:"newLinkSubgraphIds"}],staticClass:"select select--secondary max-w-full",attrs:{size:Math.min(Object.keys(t.subgraphs).length,3),multiple:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.newLinkSubgraphIds=e.target.multiple?s:s[0]}}},t._l(t.subgraphs,(function(e,o){return s("option",{key:o,staticClass:"truncate",domProps:{value:o}},[t._v("\n                    "+t._s(e.name)+"\n                ")])})),0)]:t._e()],2),t._v(" "),t.newLinkSource?s("label",{staticClass:"mt-4 pt-4 block",staticStyle:{"border-top":"1px solid var(--red)"}},[t._v("\n        It'll be from\n        "),s("span",{staticClass:"inline-block"},[s("span",{staticClass:"text-red"},[t._v(t._s(t.titleOrBody(t.newLinkSource)))]),t._v("\n            →\n        ")]),t._v(" "),s("PostSearch",{staticClass:"ml-2",on:{clickedOnResult:function(e){return t.handlePostClick(e)}}}),t._v(" "),s("div",{staticClass:"my-2 flex justify-between"},[s("p",{staticClass:"text-xs text-gray-500"},[t._v("\n                search for a post's title/body, or click on a post\n            ")]),t._v(" "),s("button",{staticClass:"btn btn--secondary",attrs:{type:"button",disabled:null==t.newLinkSource,title:"remove this source"},on:{click:function(e){return t.setNewLinkSource(null)}}},[t._v("\n                x\n            ")])])],1):s("p",{staticClass:"mt-4 text-xs text-gray-500"},[t._v("\n        click on a post to pick the link's source\n    ")])])}),[],!1,null,null,null).exports,_={name:"PostMaker",props:{shouldShowPostAttacher:{type:Boolean,default:!0}},data:()=>({showTitleInput:!1,title:"",body:"",shouldAttachPostToGraph:!0,subgraphIdsToAttachPostTo:[]}),computed:{...Object(a.e)("dataModule",["selectedGraphId","selectedSubgraphIds"]),...Object(a.c)("dataModule",["subgraphsInSelectedGraph"])},created(){this.subgraphIdsToAttachPostTo=this.selectedSubgraphIds},methods:{...Object(a.d)("dataModule",["addPostToGraph","addPostToSubgraph"]),...Object(a.b)("dataModule",["makeNewPost"]),toggleTitleInput(){this.showTitleInput&&this.title.trim().length>0?this.$refs.inputTitle.focus():this.showTitleInput=!this.showTitleInput},async makePost(){let t={title:this.title,body:this.body,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};const e=await this.makeNewPost(t);if(this.shouldAttachPostToGraph&&this.addPostToGraph({graphId:this.selectedGraphId,postId:e.id}),this.subgraphIdsToAttachPostTo.length>0)for(const t of this.subgraphIdsToAttachPostTo)this.addPostToSubgraph({subgraphId:t,postId:e.id});this.resetNewPost(),this.$emit("madePost",e)},resetNewPost(){this.title="",this.body="",this.subgraphIdsToAttachPostTo=[]}}},x=(s("wDO6"),Object(m.a)(_,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex flex-col"},[s("label",{staticClass:"mb-5 flex flex-col"},[s("button",{staticClass:"text-left font-bold underline",on:{click:function(e){return e.preventDefault(),t.toggleTitleInput(e)}}},[t._v("\n            Title\n        ")]),t._v(" "),t.showTitleInput?s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],ref:"inputTitle",staticClass:"p-2 rounded border text-gray-800 placeholder-gray-600",attrs:{type:"text",placeholder:"On the Origin of Species",minlength:"0",maxlength:"1000"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}):t._e()]),t._v(" "),s("label",{staticClass:"mb-5 flex flex-col"},[s("span",{staticClass:"font-bold"},[t._v("Body")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.body,expression:"body"}],staticClass:"p-2 h-48 rounded border text-gray-800 placeholder-gray-600 textareaBody",attrs:{placeholder:"[Markdown] But with regard to the material world, we can at least go so far as this—we can perceive that events are brought about not by insulated interpositions of Divine power, exerted in each particular case, but by the establishment of general laws",required:"required",minlength:"1",maxlength:"10000"},domProps:{value:t.body},on:{input:function(e){e.target.composing||(t.body=e.target.value)}}})]),t._v(" "),t.shouldShowPostAttacher&&null!==t.selectedGraphId?s("label",{staticClass:"mb-2 text-xs"},[s("span",[t._v("I ")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.shouldAttachPostToGraph,expression:"shouldAttachPostToGraph"}],staticClass:"select select--secondary pl-0 py-0 pr-3 text-red",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.shouldAttachPostToGraph=e.target.multiple?s:s[0]}}},[s("option",{domProps:{value:!0}},[t._v("\n                want\n            ")]),t._v(" "),s("option",{domProps:{value:!1}},[t._v("\n                don't want\n            ")])]),t._v(" "),s("span",[t._v("to attach the post to the currently-open graph")])]):t._e(),t._v(" "),t.shouldShowPostAttacher&&t.subgraphsInSelectedGraph.length>0?s("label",{staticClass:"mb-2 flex flex-col items-start text-xs"},[s("span",[t._v("I want to attach the post to these subgraphs ("+t._s(t.subgraphIdsToAttachPostTo.length)+"):")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.subgraphIdsToAttachPostTo,expression:"subgraphIdsToAttachPostTo"}],staticClass:"select select--secondary",attrs:{multiple:"",size:Math.min(t.subgraphsInSelectedGraph.length,3)},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.subgraphIdsToAttachPostTo=e.target.multiple?s:s[0]}}},t._l(t.subgraphsInSelectedGraph,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                "+t._s(e.name)+"\n            ")])})),0)]):t._e(),t._v(" "),s("button",{staticClass:"mb-5 btn btn--primary",attrs:{type:"submit",disabled:0===t.title.trim().length&&0===t.body.trim().length},on:{click:t.makePost}},[t._v("\n        Create\n    ")])])}),[],!1,null,"ceb91494",null).exports),I={name:"PostAttacher",props:{post:{type:Object,required:!0},initialShouldExpand:{type:Boolean,default:!1}},data(){return{shouldExpand:this.initialShouldExpand,shouldAttachPostToGraph:!0,subgraphIdsToAttachPostTo:[]}},computed:{...Object(a.e)("dataModule",["selectedGraphId"]),...Object(a.c)("dataModule",["subgraphsInSelectedGraph","linkedSubgraphs"]),subgraphsNotAlreadyAttachedTo(){const t=this.linkedSubgraphs(this.post.id).map(t=>parseInt(t,10));return this.subgraphsInSelectedGraph.filter(e=>!t.includes(Number(e.id)))}},created(){1===this.subgraphsInSelectedGraph.length&&(this.subgraphIdsToAttachPostTo=this.subgraphsInSelectedGraph[0])},methods:{...Object(a.d)("dataModule",["addPostToGraph","addPostToSubgraph"]),attachPost(){if(this.shouldAttachPostToGraph&&this.addPostToGraph({graphId:this.selectedGraphId,postId:this.post.id}),this.subgraphIdsToAttachPostTo.length>0){for(const t of this.subgraphIdsToAttachPostTo)this.addPostToSubgraph({subgraphId:t,postId:this.post.id});this.$emit("attachedPost",this.subgraphIdsToAttachPostTo)}}}},S=(s("qt4T"),{name:"PostsAttacher",components:{PostAttacher:Object(m.a)(I,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"postToAttach p-2"},[t.initialShouldExpand?t._e():s("div",{staticClass:"p-1 cursor-pointer hover:bg-red-300 font-bold",on:{click:function(e){e.stopPropagation(),t.shouldExpand=!t.shouldExpand}}},[t.post.title.length>0?s("p",[t._v("\n            "+t._s(t.post.title)+"\n        ")]):t._e(),t._v(" "),t.post.body.length>0?s("p",{staticClass:"pl-4"},[t._v("\n            "+t._s(t.post.body.substr(0,30))+t._s(t.post.body.length>30?"...":"")+"\n        ")]):t._e()]),t._v(" "),t.shouldExpand?[null!==t.selectedGraphId?s("label",{staticClass:"mb-2 text-xs"},[s("span",[t._v("I ")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.shouldAttachPostToGraph,expression:"shouldAttachPostToGraph"}],staticClass:"select select--secondary pl-0 py-0 pr-3 text-red",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.shouldAttachPostToGraph=e.target.multiple?s:s[0]}}},[s("option",{domProps:{value:!0}},[t._v("\n                    want\n                ")]),t._v(" "),s("option",{domProps:{value:!1}},[t._v("\n                    don't want\n                ")])]),t._v(" "),s("span",[t._v("to attach the post to the currently-open graph")])]):t._e(),t._v(" "),s("label",{staticClass:"mt-2 pl-4 flex flex-col items-start text-xs"},[t.subgraphsNotAlreadyAttachedTo.length>0?[t.subgraphsInSelectedGraph.length>1?s("select",{directives:[{name:"model",rawName:"v-model",value:t.subgraphIdsToAttachPostTo,expression:"subgraphIdsToAttachPostTo"}],staticClass:"select select--secondary",attrs:{multiple:"",size:Math.min(t.subgraphsInSelectedGraph.length,3)},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.subgraphIdsToAttachPostTo=e.target.multiple?s:s[0]}}},t._l(t.subgraphsNotAlreadyAttachedTo,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                        "+t._s(e.name)+"\n                    ")])})),0):s("span",{staticClass:"block text-xs text-gray-500"},[t._v("\n                    you can only attach the post to the subgraph '"+t._s(t.subgraphsInSelectedGraph[0].name)+"'\n                ")])]:t.subgraphsInSelectedGraph.length>0?s("span",{staticClass:"block text-xs text-gray-500"},[t._v("\n                this post is already attached to all the subgraphs\n            ")]):t._e()],2),t._v(" "),s("button",{staticClass:"btn btn--primary mt-2",attrs:{disabled:!t.shouldAttachPostToGraph&&0===t.subgraphIdsToAttachPostTo.length},on:{click:t.attachPost}},[t._v("\n            Attach\n        ")])]:t._e()],2)}),[],!1,null,"6dae4b0c",null).exports,PostSearch:b},data:()=>({postToAttach:null}),computed:{...Object(a.e)("dataModule",["posts","links"]),...Object(a.c)("dataModule",["unattachedPosts"])},methods:{onPostClick(t){null===this.postToAttach||this.postToAttach.id!==t.id?this.postToAttach=t:this.postToAttach=null}}}),M={name:"FloatingActionButton",components:{LinkEditor:f,LinkAdder:y,PostMaker:x,PostsAttacher:Object(m.a)(S,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.unattachedPosts.length>0?s("section",{staticClass:"w-full mb-4 border-b border-red-500"},[s("h4",{staticClass:"h h--4"},[t._v("\n            Posts that haven't been attached to any graph yet\n        ")]),t._v(" "),t._l(t.unattachedPosts,(function(t){return s("PostAttacher",{key:t.id,attrs:{post:t}})}))],2):t._e(),t._v(" "),s("section",{staticClass:"mb-4"},[s("h4",{staticClass:"h h--4"},[t._v("\n            Search for posts\n        ")]),t._v(" "),s("PostSearch",{staticClass:"ml-2",on:{clickedOnResult:function(e){return t.onPostClick(e)}}})],1),t._v(" "),null!==t.postToAttach?s("section",[s("h4",{staticClass:"h h--4"},[t._v("\n            Attach post\n        ")]),t._v(" "),s("PostAttacher",{attrs:{post:t.postToAttach,initialShouldExpand:!0},on:{attachedPost:function(e){t.postToAttach=null}}})],1):t._e()])}),[],!1,null,null,null).exports,PostSearch:b},computed:{...Object(a.e)("settingsModule",["graphHeight","canOpenMultiplePosts"]),...Object(a.e)("dataModule",["graphs","selectedSubgraphIds","links","zoom"]),...Object(a.c)("dataModule",["titleOrBody"]),...Object(a.e)("clickerModule",["newLinkSource","linkToEdit"]),shouldShowClickButtonMenu:{get(){return this.$store.state.clickerModule.shouldShowClickButtonMenu},set(t){this.setShouldShowClickButtonMenu(t)}},clickMode:{get(){return this.$store.state.clickerModule.clickMode},set(t){this.setClickMode(t)}},shouldShowContextMenu(){return"openPosts"!==this.clickMode}},watch:{clickMode(t,e){const s=document.querySelector(":root").style.getPropertyValue("--link-stroke-width"),o=parseInt(s.match(/^(\d*)px$/)[1],10);"changeLink"===t?document.querySelector(":root").style.setProperty("--link-stroke-width",2*o+"px"):"changeLink"===e&&document.querySelector(":root").style.setProperty("--link-stroke-width",o/2+"px")}},methods:{...Object(a.d)("dataModule",["selectPostId","setPostPosition"]),...Object(a.d)("clickerModule",["setShouldShowClickButtonMenu","setClickMode","setLinkToEdit"]),toggleClickButtonMenu(){const t=this.shouldShowClickButtonMenu;this.shouldShowClickButtonMenu=!this.shouldShowClickButtonMenu,t||(this.clickMode="openPosts")},toggleClickMode(t){const e=this.clickMode;this.clickMode=e===t?"openPosts":t},madePost(t){const e={x:Math.abs(this.zoom.x)*(1/this.zoom.scale)+100,y:Math.abs(this.zoom.y)*(1/this.zoom.scale)+150};this.setPostPosition({postId:t.id,position:e}),this.toggleClickMode("openPosts"),this.shouldShowClickButtonMenu=!1},selectPost(t){this.selectPostId({id:t.id,canOpenMultiplePosts:this.canOpenMultiplePosts})},onRemovedLink(){this.setLinkToEdit(null),this.clickMode="openPosts"}}},C=(s("SklF"),Object(m.a)(M,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"clicker"},[s("button",{staticClass:"clicker__button",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.toggleClickButtonMenu(e)}}},[t._v("\n        +\n    ")]),t._v(" "),s("div",{staticClass:"clicker__container text-xs md:text-base",style:{"max-height":t.graphHeight+"vh"}},[t.shouldShowContextMenu?s("div",{staticClass:"clicker__contextMenu"},[s("button",{staticClass:"btn btn--secondary",attrs:{type:"button"},on:{click:function(e){t.clickMode="openPosts"}}},[t._v("\n                Back\n            ")]),t._v(" "),s("hr",{staticClass:"my-2"}),t._v(" "),"addLink"===t.clickMode?s("LinkAdder"):"changeLink"===t.clickMode?[null===t.linkToEdit?s("sub",{staticClass:"text-xs text-gray-500"},[t._v("\n                    click on a link to change it\n                ")]):s("LinkEditor",{attrs:{link:t.links[t.linkToEdit]},on:{removedLink:t.onRemovedLink}})]:"addPost"===t.clickMode?s("PostMaker",{on:{madePost:t.madePost}}):"attachPostsToGraphs"===t.clickMode?s("PostsAttacher"):"searchForPosts"===t.clickMode?s("PostSearch",{on:{clickedOnResult:function(e){return t.selectPost(e)}}}):t._e()],2):t.shouldShowClickButtonMenu?s("div",{staticClass:"clicker__actionButtons"},[s("button",{staticClass:"clicker__actionButton",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.toggleClickMode("attachPostsToGraphs")}}},[s("span",{staticClass:"linkIcon"}),t._v(" Attach posts to graphs\n            ")]),t._v(" "),s("button",{staticClass:"clicker__actionButton",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.toggleClickMode("changeLink")}}},[s("svg",{staticClass:"mr-2 opacity-50",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 14 16"}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M0 12v3h3l8-8-3-3-8 8zm3 2H1v-2h1v1h1v1zm10.3-9.3L12 6 9 3l1.3-1.3a.996.996 0 011.41 0l1.59 1.59c.39.39.39 1.02 0 1.41z"}})]),t._v("\n                Change/remove link\n            ")]),t._v(" "),s("button",{staticClass:"clicker__actionButton",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.toggleClickMode("addLink")}}},[s("span",{staticClass:"mr-2 text-xl text-red"},[t._v("↔")]),t._v(" Add link between posts\n            ")]),t._v(" "),s("button",{staticClass:"clicker__actionButton",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.toggleClickMode("addPost")}}},[s("span",{staticClass:"mr-2 text-xl font-bold text-red"},[t._v("+")]),t._v(" Add post\n            ")]),t._v(" "),s("button",{staticClass:"clicker__actionButton",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.toggleClickMode("searchForPosts")}}},[s("span",{staticClass:"mr-2 text-xl font-bold text-red"},[t._v("🔍")]),t._v(" Search for posts\n            ")])]):t._e()])])}),[],!1,null,"145db29a",null).exports);const w="offlineState";var T={name:"OfflineGraph",components:{FloatingActionButton:C},data:()=>({svg:null,rootG:null,hasMounted:!1,zoom:null,zoomBehaviour:null,shouldResetZooming:!1,linksG:null,nodesG:null,linkSelection:null,nodeSelection:null,textSelection:null,originalLinkStroke:20,linkStroke:20,nodesWithCoordinates:{}}),computed:{...Object(a.e)("settingsModule",["canOpenMultiplePosts"]),...Object(a.e)("dataModule",["selectedGraphId","selectedSubgraphIds"]),...Object(a.c)("dataModule",["postsInSelectedSubgraphs","linksInSelectedSubgraphs","subgraphColour","titleOrBody","isNeighbour"]),...Object(a.e)("clickerModule",["shouldShowClickButtonMenu","clickMode"]),nodePositions(){return this.$store.state.dataModule.graphs[this.selectedGraphId].nodePositions}},watch:{selectedGraphId(){this.shouldResetZooming=!0,this.debouncedMakeGraphSvg()},selectedSubgraphIds(){this.debouncedMakeGraphSvg()},postsInSelectedSubgraphs(){this.debouncedMakeGraphSvg()},linksInSelectedSubgraphs(){this.debouncedMakeGraphSvg()},zoom({x:t,y:e,scale:s}){this.rootG.attr("transform",`translate(${t} ${e}) scale(${s})`);const o=.5/s,a=o<1?o:1+.35*(o-1),n=Math.min(220,Math.ceil(48*a));document.querySelector(":root").style.setProperty("--node-text-size",(this.isPhone()?n/2:n)+"px");this.linkStroke=Math.max(8,Math.min(110,Math.ceil(this.originalLinkStroke*a))),document.querySelector(":root").style.setProperty("--link-stroke-width",this.linkStroke+"px"),null!=this.nodeSelection&&this.nodeSelection.attr("r",this.linkStroke),this.debouncedSaveZoomState()}},mounted(){this.svg=Object(n.a)("#graphSvg"),this.rootG=Object(n.a)("#graphSvg g"),this.linksG=Object(n.a)(".graph__links").attr("stroke","#999").attr("stroke-opacity",.6),this.nodesG=Object(n.a)(".graph__nodes").attr("stroke","#fff").attr("stroke-width",1.5),this.setupZooming(),this.svg.call(this.zoomBehaviour).call(this.zoomBehaviour.transform,d.b.translate(this.$store.state.dataModule.zoom.x,this.$store.state.dataModule.zoom.y).scale(this.$store.state.dataModule.zoom.scale)),this.$nextTick(()=>{this.debouncedMakeGraphSvg()}),this.$root.$on("focusOnPost",this.focusOnPost),this.$root.$on("highlightPost",this.highlightPost),this.$root.$on("unhighlightPost",this.unhighlightPost),this.$root.$on("refreshGraph",this.debouncedMakeGraphSvg),this.$root.$on("zoomIn",this.zoomIn),this.$root.$on("zoomOut",this.zoomOut)},methods:{...Object(a.d)(["setIsRenderingGraph"]),...Object(a.d)("dataModule",["setZoom","setPostPosition"]),...Object(a.d)("clickerModule",["setShouldShowClickButtonMenu","setClickMode"]),...Object(a.b)("clickerModule",["handlePostClick","handleLinkClick"]),isPhone:()=>Math.max(document.documentElement.clientWidth||0,window.innerWidth||0)<=576,onSvgClick(t){"graphSvg"===t.target.id&&(this.shouldShowClickButtonMenu&&this.setShouldShowClickButtonMenu(!1),"openPosts"!==this.clickMode&&this.setClickMode("openPosts"))},debouncedMakeGraphSvg:p()((function(){this.makeGraphSvg()}),500,{leading:!0,trailing:!0}),async makeGraphSvg(){this.setIsRenderingGraph(!0);let t=JSON.parse(JSON.stringify(this.postsInSelectedSubgraphs));t=t.map(t=>{const e=this.nodePositions[t.id];return null!=e&&(t.fx=e.x,t.fy=e.y),t});const e=JSON.parse(JSON.stringify(this.linksInSelectedSubgraphs)),s=this,o=Object(c.d)(t).force("link",Object(c.b)(e).id(t=>t.id).distance(200)).force("charge",Object(c.c)().strength(-7500)).force("center",Object(c.a)(200,100));o.tick(300),this.linkSelection=this.linksG.selectAll("line").data(e,t=>t.id).join("line").classed("graph__link",!0).classed("graph__link--sidenote",t=>"sidenote"===t.type).classed("graph__link--link",t=>"link"===t.type).attr("stroke",t=>this.subgraphColour(t.subgraphId)).attr("marker-end","url(#arrowhead)").on("click",(async function(t){const e=await s.handleLinkClick({link:t,coordinates:Object(i.a)(this)});if(null!=e){const t=e;s.focusOnPost(t,1.5)}})).call(Object(u.a)().clickDistance(4));let a=this.nodesG.selectAll("g").data(t,t=>t.id);a.exit().remove();const n=a.enter(),l=n.append("g").classed("node",!0);l.append("circle"),l.append("text"),a=a.merge(n),a.selectAll("g").attr("dataset-id",t=>t.id),this.nodeSelection=Object(r.a)(".node").select("circle").classed("node__circle",!0).attr("r",this.linkStroke).attr("title",t=>t.title),this.textSelection=Object(r.a)(".node").select("text").classed("node__text",!0).attr("text-anchor","end").attr("id",t=>"text-"+t.id).text(t=>this.titleOrBody(t.id)).on("mouseover",t=>{this.highlightPost(t.id)}).on("mouseout",t=>{this.unhighlightPost(t.id)}),Object(r.a)(".node *").on("click",this.handlePostClick).call(Object(u.a)().clickDistance(4)).call(this.createDragBehaviour(o)),o.on("tick",()=>{this.linkSelection.attr("x1",t=>t.source.x).attr("y1",t=>t.source.y).attr("x2",t=>t.target.x).attr("y2",t=>t.target.y),this.nodeSelection.attr("cx",t=>t.x).attr("cy",t=>t.y),this.textSelection.attr("x",t=>t.x-6).attr("y",t=>t.y-4)}),this.shouldResetZooming&&(this.shouldResetZooming=!1,this.$nextTick(()=>{this.resetZoomToCenter()}));let d={};for(const e of t)d[e.id]=e;this.nodesWithCoordinates=d,this.setIsRenderingGraph(!1)},setupZooming(){this.zoomBehaviour=Object(d.a)().scaleExtent([.025,2]).on("zoom",()=>{const t=l.c.transform.x,e=l.c.transform.y,s=l.c.transform.k;this.zoom={x:t,y:e,scale:s}}),this.svg.call(this.zoomBehaviour).on("wheel",()=>{l.c.preventDefault()})},resetZoomToCenter(){this.svg.call(this.zoomBehaviour).call(this.zoomBehaviour.transform,d.b.translate(200,100).scale(.5))},debouncedSaveZoomState:p()((function(){this.hasMounted?this.setZoom(this.zoom):this.hasMounted=!0}),250,{leading:!1,trailing:!0}),focusOnPost(t,e=1){const s=this.isPhone()?550:2e3,o=this.isPhone()?300:500,a=this.nodesWithCoordinates[t];this.svg.transition().duration(1500/e).call(this.zoomBehaviour.transform,d.b.scale(.5).translate(-a.x+s,-a.y+o))},zoomIn(){this.svg.transition().call(this.zoomBehaviour.scaleBy,2)},zoomOut(){this.svg.transition().call(this.zoomBehaviour.scaleBy,.5)},createDragBehaviour(t){const e=this;return Object(u.a)().on("start",(function(s){var o;l.c.active||t.alphaTarget(.3).restart(),s.fx=s.x,s.fy=s.y,o=s,e.nodeSelection.each((function(t){o!==t&&(t.fx=t.x,t.fy=t.y)}))})).on("drag",(function(t){t.fx=l.c.x,t.fy=l.c.y})).on("end",(function(s){l.c.active||(t.alpha(0),t.alphaTarget(0)),s.fx=l.c.x,s.fy=l.c.y,e.setPostPosition({postId:s.id,position:{x:l.c.x,y:l.c.y}})}))},highlightPost(t){const e=document.getElementById("text-"+t);Object(n.a)(e).style("filter","url(#postHoverFilter)"),Object(n.a)(Object(n.a)(e).node().parentNode).raise();this.nodeSelection.filter(e=>t!==e.id&&!this.isNeighbour(t,e.id)).style("opacity",.2);this.textSelection.filter(e=>t!==e.id&&!this.isNeighbour(t,e.id)).style("opacity",.2);this.linkSelection.filter(e=>t!==e.source.id&&t!==e.target.id).style("opacity",.2)},unhighlightPost(t){const e=document.getElementById("text-"+t);Object(n.a)(e).style("filter",""),this.nodeSelection.style("opacity",1),this.textSelection.style("opacity",1),this.linkSelection.style("opacity",1)}}},O=(s("lhwy"),Object(m.a)(T,(function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"h-full w-full relative pb-4 px-0 flex"},[e("svg",{staticClass:"w-full cursor-move border bg-white",attrs:{id:"graphSvg"},on:{click:this.onSvgClick}},[e("defs",[e("marker",{attrs:{id:"arrowhead",viewBox:"-0 -5 10 10",refX:"15",refY:"0",orient:"auto",markerWidth:"2",markerHeight:"2"}},[e("path",{staticStyle:{stroke:"none"},attrs:{d:"M 0,-5 L 10 ,0 L 0,5",fill:"#353535"}})]),this._v(" "),e("filter",{attrs:{id:"postHoverFilter"}},[e("feFlood",{attrs:{"flood-color":"#000"}}),this._v(" "),e("feComponentTransfer",[e("feFuncA",{attrs:{type:"linear",slope:"0.75"}})],1),this._v(" "),e("feComposite",{attrs:{in:"SourceGraphic"}})],1)]),this._v(" "),e("g",{attrs:{transform:"translate(5, 15) scale(0.5)"}},[e("g",{staticClass:"graph__links"}),this._v(" "),e("g",{staticClass:"graph__nodes"})])]),this._v(" "),e("FloatingActionButton")],1)}),[],!1,null,null,null).exports),P=s("DlQD"),j=s.n(P);const L=new j.a.Renderer,N=L.link;L.link=(t,e,s)=>N.call(L,t,e,s).replace(/^<a /,'<a target="_blank" rel="nofollow" '),j.a.setOptions({breaks:!0,gfm:!0,headerIds:!1}),j.a.use({renderer:L});var A=j.a,D={name:"PostEditor",props:{post:{type:Object,required:!0}},data(){return{title:this.post.title,body:this.post.body,showTitleInput:this.post.title.length>0}},methods:{...Object(a.d)("dataModule",["deletePost"]),...Object(a.b)("dataModule",["updatePostTitle","updatePostBody"]),toggleTitleInput(){this.showTitleInput&&this.title.trim().length>0?this.$refs.inputTitle.focus():this.showTitleInput=!this.showTitleInput},removePostLocal(){confirm("Are you sure you want to remove this post? ")&&this.deletePost({id:this.post.id})},onTitleUpdate(t){this.updatePostTitle({id:this.post.id,title:t,updatedAt:(new Date).toISOString()})},onBodyUpdate(t){this.updatePostBody({id:this.post.id,body:t,updatedAt:(new Date).toISOString()})}}},E=Object(m.a)(D,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"flex flex-col p-1 pb-0"},[s("label",{staticClass:"mb-5 flex flex-col"},[s("button",{staticClass:"text-left font-bold",class:t.title.trim().length>0?"cursor-default":"cursor-pointer underline",on:{click:function(e){return e.preventDefault(),t.toggleTitleInput(e)}}},[t._v("\n            Title\n        ")]),t._v(" "),t.showTitleInput?s("input",{ref:"inputTitle",staticClass:"p-2 rounded border text-gray-800 placeholder-gray-600",attrs:{type:"text",placeholder:"On the Origin of Species",minlength:"0",maxlength:"1000"},domProps:{value:t.title},on:{input:function(e){return t.onTitleUpdate(e.target.value)}}}):t._e()]),t._v(" "),s("label",{staticClass:"mb-5 flex flex-col"},[s("span",{staticClass:"font-bold"},[t._v("Body")]),t._v(" "),s("textarea",{staticClass:"p-2 h-48 rounded border text-gray-800 placeholder-gray-600 resize-y",attrs:{required:"required",placeholder:"you can type Markdown here",minlength:"1",maxlength:"10000"},domProps:{value:t.body},on:{input:function(e){return t.onBodyUpdate(e.target.value)}}})]),t._v(" "),s("span",{staticClass:"mb-2"},[s("button",{staticClass:"btn btn--secondary",on:{click:t.removePostLocal}},[t._v("\n            delete\n        ")])])])}),[],!1,null,null,null).exports,B={name:"LinkedPosts",props:{post:{type:Object,required:!0}},computed:{...Object(a.e)("settingsModule",["canOpenMultiplePosts"]),...Object(a.e)("dataModule",["posts"]),...Object(a.c)("dataModule",["titleOrBody","postIdsThatLinkToPost"]),linkedPosts(){return this.postIdsThatLinkToPost(this.post.id)}},methods:{...Object(a.d)("dataModule",["togglePostId","removeLink"]),togglePostIdLocal(t){this.togglePostId({id:t,canOpenMultiplePosts:this.canOpenMultiplePosts})}}},G=Object(m.a)(B,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("div",{staticClass:"flex justify-between items-center"},[Object.keys(t.linkedPosts.to).length>0?[s("div",t._l(t.linkedPosts.to,(function(e,o){return s("div",{key:o,staticClass:"mb-4 flex justify-between items-start"},[s("div",{staticClass:"p-1 cursor-pointer bg-red-200 hover:bg-red-300 rounded-lg text-xs md:text-sm",attrs:{title:"view this post"},on:{click:function(s){return t.togglePostIdLocal(e)}}},[t.posts[e].title.length>0?s("span",{staticClass:"font-bold"},[t._v("\n                            "+t._s(t.posts[e].title)+"\n                        ")]):t._e(),t._v(" "),t.posts[e].body.length>0?s("p",{staticClass:"text-xs"},[t._v("\n                            "+t._s(t.posts[e].body.substr(0,200))+t._s(t.posts[e].body.length>200?"...":"")+"\n                        ")]):t._e()]),t._v(" "),s("button",{staticClass:"ml-2 py-1 px-2 btn btn--secondary",attrs:{title:"remove link"},on:{click:function(e){return t.removeLink({id:o})}}},[t._v("\n                        x\n                    ")])])})),0),t._v(" "),t._m(0)]:t._e(),t._v(" "),s("span",[t._v("\n            "+t._s(t.titleOrBody(t.post.id))+"\n        ")]),t._v(" "),Object.keys(t.linkedPosts.from).length>0?[t._m(1),t._v(" "),s("div",t._l(t.linkedPosts.from,(function(e,o){return s("div",{key:o,staticClass:"mb-4 flex justify-between items-start"},[s("div",{staticClass:"p-1 cursor-pointer bg-red-200 hover:bg-red-300 rounded-lg text-xs md:text-sm",attrs:{title:"view this post"},on:{click:function(s){return t.togglePostIdLocal(e)}}},[t.posts[e].title.length>0?s("span",{staticClass:"font-bold"},[t._v("\n                            "+t._s(t.posts[e].title)+"\n                        ")]):t._e(),t._v(" "),t.posts[e].body.length>0?s("p",{staticClass:"text-xs"},[t._v("\n                            "+t._s(t.posts[e].body.substr(0,200))+t._s(t.posts[e].body.length>200?"...":"")+"\n                        ")]):t._e()]),t._v(" "),s("button",{staticClass:"ml-2 py-1 px-2 btn btn--secondary",attrs:{title:"remove link"},on:{click:function(e){return t.removeLink({id:o})}}},[t._v("\n                        x\n                    ")])])})),0)]:t._e()],2)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{staticClass:"h h--4 mx-4 flex flex-col"},[e("span",[this._v("→")]),this._v(" "),e("span",[this._v("→")]),this._v(" "),e("span",[this._v("→")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{staticClass:"h h--4 mx-4 flex flex-col"},[e("span",[this._v("→")]),this._v(" "),e("span",[this._v("→")]),this._v(" "),e("span",[this._v("→")])])}],!1,null,null,null).exports,z={name:"LinkedSubgraphs",props:{post:{type:Object,required:!0}},computed:{...Object(a.e)("dataModule",["subgraphs"]),...Object(a.c)("dataModule",["linkedSubgraphs"])},methods:{...Object(a.d)("dataModule",["toggleSubgraphId","removePostFromSubgraph"])}},$=Object(m.a)(z,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("div",[s("h4",{staticClass:"h h--4"},[t._v("\n            Subgraphs that include this post\n        ")]),t._v(" "),t._l(t.linkedSubgraphs(t.post.id),(function(e){return s("a",{key:e,staticClass:"link block mb-2 text-xs md:text-base",attrs:{title:"show/hide this graph"},on:{click:function(s){return t.toggleSubgraphId(e)}}},[t._v("\n            "+t._s(t.subgraphs[e].name)+"\n\n            "),s("button",{staticClass:"ml-8 py-1 px-2 text-xs btn btn--secondary",on:{click:function(s){return s.stopPropagation(),t.removePostFromSubgraph({subgraphId:e,postId:t.post.id})}}},[t._v("\n                remove from subgraph\n            ")])])}))],2)])}),[],!1,null,null,null).exports,R={name:"AddLinkedPost",components:{PostMaker:x},props:{post:{type:Object,required:!0}},data:()=>({fromOrToNewPost:"to",linkType:"reply",subgraphIdsToAttachPostTo:[]}),computed:{...Object(a.e)("dataModule",["graphs","selectedGraphId","selectedSubgraphIds","zoom"]),...Object(a.c)("dataModule",["titleOrBody","subgraphsInSelectedGraph"]),nodePositions(){return this.$store.state.dataModule.graphs[this.selectedGraphId].nodePositions}},created(){this.subgraphIdsToAttachPostTo=this.selectedSubgraphIds},methods:{...Object(a.d)("dataModule",["addLink","setPostPosition","addPostToSubgraph"]),toggleFromOrToTheNewPost(){const t="from"===this.fromOrToNewPost?"to":"from";this.fromOrToNewPost=t},addedPost(t){const e="from"===this.fromOrToNewPost?t.id:this.post.id,s="to"===this.fromOrToNewPost?t.id:this.post.id;this.addLink({source:e,target:s,graph:this.selectedGraphId,type:this.linkType,subgraphIds:this.subgraphIdsToAttachPostTo});let o={};const a=this.nodePositions[this.post.id];if(o=null!=a?{x:a.x+100,y:a.y+150}:{x:Math.abs(this.zoom.x)*(1/this.zoom.scale)+100,y:Math.abs(this.zoom.y)*(1/this.zoom.scale)+150},this.setPostPosition({postId:t.id,position:o}),this.subgraphIdsToAttachPostTo.length>0)for(const e of this.subgraphIdsToAttachPostTo)this.addPostToSubgraph({subgraphId:e,postId:t.id})}}},F={name:"Post",components:{PostEditor:E,LinkedPosts:G,LinkedSubgraphs:$,AddLinkedPost:Object(m.a)(R,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("label",{staticClass:"mb-3 block"},[t._v("\n        "+t._s(t.titleOrBody(t.post.id))+"\n        "),s("button",{staticClass:"mx-4 link",attrs:{type:"button"},on:{click:t.toggleFromOrToTheNewPost}},[t._v("\n            "+t._s("to"===t.fromOrToNewPost?"→":"←")+"\n        ")]),t._v("\n        [the new post]\n    ")]),t._v(" "),s("label",{staticClass:"mb-3 block"},[t._v("\n        link type:\n        "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.linkType,expression:"linkType"}],staticClass:"select select--secondary max-w-full",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.linkType=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"reply"}},[t._v("\n                reply\n            ")]),t._v(" "),s("option",{attrs:{value:"sidenote"}},[t._v("\n                sidenote\n            ")]),t._v(" "),s("option",{attrs:{value:"link"}},[t._v("\n                link\n            ")])])]),t._v(" "),t.subgraphsInSelectedGraph.length>0?s("label",{staticClass:"mb-2 flex flex-col items-start text-xs"},[s("span",[t._v("I want to attach the post to these subgraphs ("+t._s(t.subgraphIdsToAttachPostTo.length)+"):")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.subgraphIdsToAttachPostTo,expression:"subgraphIdsToAttachPostTo"}],staticClass:"select select--secondary",attrs:{multiple:"",size:Math.min(t.subgraphsInSelectedGraph.length,3)},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.subgraphIdsToAttachPostTo=e.target.multiple?s:s[0]}}},t._l(t.subgraphsInSelectedGraph,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                "+t._s(e.name)+"\n            ")])})),0)]):t._e(),t._v(" "),s("h4",{staticClass:"mt-5 h h--4"},[t._v("\n        Add post\n    ")]),t._v(" "),s("hr",{staticClass:"mb-1"}),t._v(" "),s("PostMaker",{attrs:{shouldShowPostAttacher:!1},on:{madePost:t.addedPost}})],1)}),[],!1,null,null,null).exports},props:{post:{type:Object,required:!0}},data:()=>({showPostEditor:!1,bottomTab:""}),computed:{...Object(a.e)("settingsModule",["postWidth"]),...Object(a.e)("dataModule",["selectedPostIds"]),...Object(a.c)("dataModule",["postIdsInSelectedSubgraphs","postIdsThatLinkToPost","linkedSubgraphs"]),linkedPosts(){return this.postIdsThatLinkToPost(this.post.id)},hasLinkedPosts(){return Object.keys(this.linkedPosts.to).length>0||Object.keys(this.linkedPosts.from).length>0},isPartOfASubgraph(){return this.linkedSubgraphs(this.post.id).length>0},isVisibleInGraph(){return this.postIdsInSelectedSubgraphs.includes(this.post.id)},minPostWidth(){const t=this.selectedPostIds.length;return Math.max(this.postWidth,Math.floor(92/t))}},methods:{marked:A,...Object(a.d)("dataModule",["unselectPostId","movePostLeft","movePostRight"]),toggleBottomTab(t){this.bottomTab=this.bottomTab===t?"":t}}},U=(s("kqfd"),Object(m.a)(F,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"relative post",style:{"min-width":t.minPostWidth+"vw"}},[s("div",[s("div",{staticClass:"flex justify-between"},[[t.post.title.length>0?s("h3",{staticClass:"h h--3 mr-2 whitespace-pre-wrap"},[t.isVisibleInGraph?s("button",{staticClass:"focusButton mr-2",attrs:{type:"button",title:"focus on this post in the viewer above"},on:{click:function(e){return t.$root.$emit("focusOnPost",t.post.id)},mouseover:function(e){return t.$root.$emit("highlightPost",t.post.id)},mouseout:function(e){return t.$root.$emit("unhighlightPost",t.post.id)}}},[s("span",{staticClass:"text-base"},[t._v("🔍")])]):t._e(),t._v(t._s(t.post.title))]):s("span")],t._v(" "),s("span",{staticStyle:{"min-width":"48px"}},[s("button",{staticClass:"mr-2 transition-150",class:{"opacity-25 hover:opacity-100":!t.showPostEditor,"opacity-100 hover:opacity-25":t.showPostEditor},attrs:{type:"button"},on:{click:function(e){t.showPostEditor=!t.showPostEditor}}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 14 16"}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M0 12v3h3l8-8-3-3-8 8zm3 2H1v-2h1v1h1v1zm10.3-9.3L12 6 9 3l1.3-1.3a.996.996 0 011.41 0l1.59 1.59c.39.39.39 1.02 0 1.41z"}})])]),t._v(" "),s("button",{staticClass:"opacity-25 hover:opacity-100 transition-150",attrs:{type:"button"},on:{click:function(e){return t.unselectPostId(t.post.id)}}},[s("svg",{attrs:{width:"18",height:"18",viewBox:"0 0 128 128"}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M65.086 75.41l-50.113 50.113c-3.121 3.121-8.192 3.126-11.316.002-3.118-3.118-3.123-8.19.002-11.316l50.114-50.114L3.659 13.982C.538 10.86.533 5.79 3.657 2.666c3.118-3.118 8.19-3.123 11.316.002l50.113 50.114L115.2 2.668c3.121-3.121 8.192-3.126 11.316-.002 3.118 3.118 3.123 8.19-.002 11.316L76.4 64.095l50.114 50.114c3.121 3.121 3.126 8.192.002 11.316-3.118 3.118-8.19 3.123-11.316-.002L65.086 75.409z"}})])])])],2),t._v(" "),t.showPostEditor?s("PostEditor",{attrs:{post:t.post}}):s("div",[t.isVisibleInGraph&&0===t.post.title.length?s("button",{staticClass:"focusButton mr-2 float-left",attrs:{type:"button",title:"focus on this post in the viewer above"},on:{click:function(e){return t.$root.$emit("focusOnPost",t.post.id)},mouseover:function(e){return t.$root.$emit("highlightPost",t.post.id)},mouseout:function(e){return t.$root.$emit("unhighlightPost",t.post.id)}}},[s("span",{staticClass:"text-base"},[t._v("🔍")])]):t._e(),t._v(" "),s("p",{staticClass:"font-sans markdownContent",domProps:{innerHTML:t._s(t.marked(t.post.body))}})])],1),t._v(" "),s("div",{staticClass:"flex justify-between"},[s("span",[t.selectedPostIds.length>1?s("button",{staticClass:"bottomLink bottomLink--unselected",attrs:{type:"button",title:"move this post left"},on:{click:function(e){return t.movePostLeft(t.post.id)}}},[s("span",{staticClass:"text-2xl"},[t._v("⇐")])]):t._e(),t._v(" "),t.isPartOfASubgraph?s("button",{staticClass:"bottomLink",class:"linked-subgraphs"===t.bottomTab?"bottomLink--selected":"bottomLink--unselected",attrs:{title:"graphs that include this post",type:"button"},on:{click:function(e){return t.toggleBottomTab("linked-subgraphs")}}},[s("span",{staticClass:"text-xs"},[t._v(t._s(t.linkedSubgraphs(this.post.id).length)+" subgraphs")])]):t._e(),t._v(" "),t.hasLinkedPosts?s("button",{staticClass:"bottomLink",class:"linked-posts"===t.bottomTab?"bottomLink--selected":"bottomLink--unselected",attrs:{type:"button",title:"posts that link to or from this one"},on:{click:function(e){return t.toggleBottomTab("linked-posts")}}},[s("span",{staticClass:"text-xs"},[t._v(t._s(Object.keys(t.linkedPosts.to).length)+"-"+t._s(Object.keys(t.linkedPosts.from).length)+" linked posts")])]):t._e()]),t._v(" "),s("span",[s("button",{staticClass:"bottomLink",class:"add-linked-post"===t.bottomTab?"bottomLink--selected":"bottomLink--unselected",attrs:{title:"add a post linked to/from this one",type:"button"},on:{click:function(e){return t.toggleBottomTab("add-linked-post")}}},[s("span",{staticClass:"text-3xl"},[t._v("+")])]),t._v(" "),t.selectedPostIds.length>1?s("button",{staticClass:"bottomLink bottomLink--unselected",attrs:{type:"button",title:"move this post right"},on:{click:function(e){return t.movePostRight(t.post.id)}}},[s("span",{staticClass:"text-2xl"},[t._v("⇒")])]):t._e()])]),t._v(" "),""!==t.bottomTab?s(t.bottomTab,{tag:"component",staticClass:"pt-5",attrs:{post:t.post}}):t._e()],1)}),[],!1,null,"b84a5ebe",null).exports),H={name:"PostBarScrollButtons",data:()=>({visiblePosts:[],postsWithVisibleSecondHalves:[]}),computed:{...Object(a.e)("dataModule",["selectedPostIds"]),numberOfPostsHiddenToTheLeft(){if(0===this.visiblePosts.length){if(0===this.postsWithVisibleSecondHalves.length)return 0;return this.postsWithVisibleSecondHalves[0]+1}return this.visiblePosts[0]},numberOfPostsHiddenToTheRight(){if(0===this.visiblePosts.length){if(0===this.postsWithVisibleSecondHalves.length)return 0;const t=this.postsWithVisibleSecondHalves[0];return this.selectedPostIds.length-(t+1)}const t=this.visiblePosts[this.visiblePosts.length-1];return this.selectedPostIds.length-(t+1)}},watch:{selectedPostIds:"setVisiblePosts"},mounted(){this.setVisiblePosts(),document.getElementById("postsContainer").onscroll=this.setVisiblePosts},activated(){this.setVisiblePosts()},methods:{isPostVisible(t,e){if(!t||null==e.scrollLeft)return!1;const s=t.getBoundingClientRect(),o=e.getBoundingClientRect(),a=s.left>=0&&s.top<=o.bottom&&s.left<=o.right,n=(s.left+s.right)/2<=o.right;return a&&n},isPostSecondHalfVisible(t,e){if(!t||null==e.scrollLeft)return!1;const s=t.getBoundingClientRect(),o=e.getBoundingClientRect(),a=s.right>=0&&s.top<=o.bottom&&s.right<=o.right,n=(s.left+s.right)/2<=o.right;return a&&n},setVisiblePosts(){let t=[],e=[];const s=document.getElementById("postsContainer");for(let o=0;o<this.selectedPostIds.length;o++){const a=document.getElementById("post-"+o);if(this.isPostVisible(a,s))t.push(o);else{this.isPostSecondHalfVisible(a,s)&&e.push(o)}}this.visiblePosts=t,this.postsWithVisibleSecondHalves=e},scrollLeft(){let t;if(0===this.visiblePosts.length){t=this.postsWithVisibleSecondHalves[0]}else t=this.visiblePosts[0]-1;const e=document.getElementById("post-"+t).getBoundingClientRect();let s=document.getElementById("postsContainer"),o=s.getBoundingClientRect();s.scrollLeft=s.scrollLeft-(Math.abs(e.left)+o.left+10)},scrollRight(){let t;if(0===this.visiblePosts.length){t=this.postsWithVisibleSecondHalves[0]+1}else t=this.visiblePosts[this.visiblePosts.length-1]+1;const e=document.getElementById("post-"+t).getBoundingClientRect();let s=document.getElementById("postsContainer"),o=s.getBoundingClientRect();s.scrollLeft=s.scrollLeft+(e.right-o.right+10)},scrollToTop(){window.scrollBy(0,document.getElementById("scrollToPostBarButton").getBoundingClientRect().top-5)}}},Q={name:"PostBar",components:{Post:U,PostBarScrollButtons:Object(m.a)(H,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex justify-between items-center"},[s("span",[s("button",{staticClass:"btn btn--secondary",attrs:{type:"button",disabled:0===t.numberOfPostsHiddenToTheLeft||t.visiblePosts.length===t.selectedPostIds.length||t.visiblePosts.includes(0)},on:{click:t.scrollLeft}},[s("span",{staticClass:"text-lg"},[t._v("⇐ "+t._s(t.numberOfPostsHiddenToTheLeft))])]),t._v(" "),s("button",{staticClass:"btn btn--secondary mt-4 ml-2",attrs:{type:"button",title:"scroll to the top of the page"},on:{click:t.scrollToTop}},[t._v("\n            ↥\n        ")])]),t._v(" "),s("span",[s("button",{staticClass:"btn btn--secondary",attrs:{type:"button",disabled:0===t.numberOfPostsHiddenToTheRight||t.visiblePosts.length===t.selectedPostIds.length&&t.visiblePosts.includes(t.selectedPostIds.length-1)},on:{click:t.scrollRight}},[s("span",{staticClass:"text-lg"},[t._v(t._s(t.numberOfPostsHiddenToTheRight)+" ⇒")])])])])}),[],!1,null,null,null).exports},computed:{...Object(a.e)("dataModule",["posts","selectedPostIds"])}},W=(s("OC+R"),{name:"Viewer",components:{OfflineGraph:O,PostBar:Object(m.a)(Q,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("div",{staticClass:"postBar",attrs:{id:"postBar"}},[s("PostBarScrollButtons"),t._v(" "),s("div",{staticClass:"w-full flex items-start overflow-x-auto",attrs:{id:"postsContainer"}},t._l(t.selectedPostIds,(function(e,o){return s("post",{key:e,staticClass:"m-2 p-2",attrs:{id:"post-"+o,post:t.posts[e]}})})),1)],1)])}),[],!1,null,null,null).exports},data(){const t=localStorage.getItem(w);return{localStorageSize:null!=t?(t.length/1e6).toFixed(2):0}},computed:{...Object(a.e)(["isRenderingGraph"]),...Object(a.e)("settingsModule",["graphHeight","postBarHeight"]),...Object(a.e)("dataModule",["graphs"]),...Object(a.c)("dataModule",["subgraphsInSelectedGraph"]),selectedGraphId:{get(){return this.$store.state.dataModule.selectedGraphId},set(t){this.$store.commit("dataModule/setSelectedGraphId",t)}},selectedSubgraphIds:{get(){return this.$store.state.dataModule.selectedSubgraphIds},set(t){this.$store.commit("dataModule/setSelectedSubgraphIds",t)}}},methods:{...Object(a.d)("dataModule",["selectAllSubgraphs"]),scrollToPostBar(){window.scrollBy(0,document.getElementById("postBar").getBoundingClientRect().top-5)}}}),V=Object(m.a)(W,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex flex-col"},[s("div",{staticClass:"flex items-start"},[s("div",{staticClass:"mb-2 flex"},[s("div",{staticClass:"flex flex-col"},[s("button",{staticClass:"btn btn--secondary",attrs:{id:"scrollToPostBarButton",type:"button",title:"scroll to the posts"},on:{click:function(e){return e.stopPropagation(),t.scrollToPostBar(e)}}},[t._v("\n                    ↧\n                ")]),t._v(" "),s("button",{staticClass:"btn btn--secondary mt-2",attrs:{type:"button",title:"zoom out"},on:{click:function(e){return e.stopPropagation(),t.$root.$emit("zoomOut")}}},[t._v("\n                    -\n                ")])]),t._v(" "),s("div",{staticClass:"flex flex-col ml-2"},[s("div",[s("button",{staticClass:"btn btn--secondary",attrs:{type:"button",title:"refresh the graph"},on:{click:function(e){return e.stopPropagation(),t.$root.$emit("refreshGraph")}}},[t._v("\n                        ⟳\n                    ")]),t._v(" "),t.isRenderingGraph?s("div",{staticClass:"mt-1 flex justify-center items-center"},[s("div",{staticClass:"spinner spinner--sm"})]):t._e()]),t._v(" "),s("button",{staticClass:"btn btn--secondary mt-2",attrs:{type:"button",title:"zoom in"},on:{click:function(e){return e.stopPropagation(),t.$root.$emit("zoomIn")}}},[t._v("\n                    +\n                ")])])]),t._v(" "),Object.keys(t.graphs).length>1?s("label",{staticClass:"ml-4"},[s("span",{staticClass:"block h h--4"},[t._v("\n                Graphs\n            ")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedGraphId,expression:"selectedGraphId"}],staticClass:"select select--secondary w-full",attrs:{size:Math.min(Object.keys(t.graphs).length,3)},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedGraphId=e.target.multiple?s:s[0]}}},t._l(t.graphs,(function(e,o){return s("option",{key:o,domProps:{value:o}},[t._v("\n                    "+t._s(e.name)+"\n                ")])})),0)]):t._e(),t._v(" "),s("div",{staticClass:"ml-4 flex flex-col items-start"},[s("span",{attrs:{id:"graphsList"}}),t._v(" "),t.subgraphsInSelectedGraph.length>0?s("h4",{staticClass:"h h--4"},[t._v("\n                Subgraphs\n            ")]):t._e(),t._v(" "),t.subgraphsInSelectedGraph.length>0?s("div",{staticClass:"flex"},[s("div",{staticClass:"mr-2 flex flex-col items-start"},[s("button",{staticClass:"btn btn--secondary",attrs:{type:"button",disabled:t.selectedSubgraphIds.length===t.subgraphsInSelectedGraph.length},on:{click:function(e){return e.stopPropagation(),t.selectAllSubgraphs(e)}}},[t._v("\n                        View all subgraphs\n                    ")]),t._v(" "),t.selectedSubgraphIds.length>0?s("button",{staticClass:"my-1 ml-2 text-sm hover:underline",attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),t.selectedSubgraphIds=[]}}},[t._v("\n                        clear\n                    ")]):t._e()]),t._v(" "),s("label",[s("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedSubgraphIds,expression:"selectedSubgraphIds"}],staticClass:"select select--secondary w-full",attrs:{multiple:"",size:Math.min(t.subgraphsInSelectedGraph.length,7)},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedSubgraphIds=e.target.multiple?s:s[0]}}},t._l(t.subgraphsInSelectedGraph,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                            "+t._s(e.name)+"\n                        ")])})),0)])]):t._e()]),t._v(" "),t.localStorageSize>2?s("p",{staticClass:"text-xs"},[t._v("\n            Your stored data is "+t._s(t.localStorageSize)+"mb, the maximum that can be stored is "),s("a",{staticClass:"link",attrs:{href:"https://stackoverflow.com/questions/2989284/what-is-the-max-size-of-localstorage-values/33085019#33085019",target:"_blank",rel:"noopener"}},[t._v("around 5mb")]),t._v(".\n        ")]):t._e()]),t._v(" "),s("div",{staticClass:"flex flex-col"},[s("OfflineGraph",{ref:"offlineGraph",style:{"min-height":t.graphHeight+"vh"}}),t._v(" "),s("PostBar",{style:{"min-height":t.postBarHeight+"vh"}})],1)])}),[],!1,null,null,null).exports,Y={name:"SubgraphEditor",props:{subgraphId:{type:String,required:!0}},data:()=>({postIdToAddToGraph:null,newSubgraphName:"",newSubgraphColour:"#000000"}),computed:{...Object(a.e)("dataModule",["subgraphs"]),...Object(a.c)("dataModule",["postIds","titleOrBody"]),subgraph(){return this.subgraphs[this.subgraphId]}},mounted(){this.newSubgraphColour=this.subgraph.colour||"#000000"},methods:{...Object(a.d)("dataModule",["changeSubgraphName","changeSubgraphColour","removeSubgraph"]),changeSubgraphNameLocal(){0!==this.newSubgraphName.trim().length&&(this.changeSubgraphName({subgraphId:this.subgraphId,newSubgraphName:this.newSubgraphName}),this.newSubgraphName="")}}},J={name:"Subgraphs",components:{SubgraphEditor:Object(m.a)(Y,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"flex justify-between"},[s("h3",{staticClass:"h h--3",style:{color:t.newSubgraphColour}},[t._v("\n            "+t._s(t.subgraph.name)+"\n        ")]),t._v(" "),s("button",{staticClass:"py-1 px-2 btn btn--secondary",on:{click:function(e){return t.removeSubgraph(t.subgraphId)}}},[t._v("\n            Remove\n        ")])]),t._v(" "),s("div",{staticClass:"flex flex-col"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newSubgraphName,expression:"newSubgraphName"}],staticClass:"mb-2 p-2 rounded text-gray-800 text-base placeholder-gray-600",attrs:{type:"text",placeholder:"foo subgraph"},domProps:{value:t.newSubgraphName},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeSubgraphNameLocal(e)},input:function(e){e.target.composing||(t.newSubgraphName=e.target.value)}}}),t._v(" "),s("button",{staticClass:"py-1 px-2 btn btn--secondary",attrs:{disabled:0===t.newSubgraphName.trim().length},on:{click:t.changeSubgraphNameLocal}},[t._v("\n                Change subgraph name\n            ")])]),t._v(" "),s("label",{staticClass:"mt-2 flex items-center"},[s("span",{staticClass:"mr-4"},[t._v("Colour: ")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newSubgraphColour,expression:"newSubgraphColour"}],staticClass:"ml-4 mr-1",attrs:{type:"color"},domProps:{value:t.newSubgraphColour},on:{input:function(e){e.target.composing||(t.newSubgraphColour=e.target.value)}}}),t._v(" "),s("button",{staticClass:"py-1 px-2 btn btn--secondary",attrs:{disabled:t.newSubgraphColour===t.subgraph.colour},on:{click:function(e){return t.changeSubgraphColour({subgraphId:t.subgraphId,colour:t.newSubgraphColour})}}},[t._v("\n                Change subgraph colour\n            ")])])])])}),[],!1,null,null,null).exports},props:{graphId:{type:String,required:!0}},data:()=>({newSubgraphName:""}),computed:{...Object(a.e)("dataModule",["graphs","subgraphs"]),...Object(a.c)("dataModule",["subgraphsInGraph","postIds","titleOrBody"]),subgraphsInGraph(){return this.graphs[this.graphId].subgraphs.map(t=>this.subgraphs[t])}},methods:{...Object(a.d)("dataModule",["makeNewSubgraph"]),makeNewSubgraphLocal(){this.makeNewSubgraph({graphId:this.graphId,newSubgraphName:this.newSubgraphName}),this.newSubgraphName=""}}},Z={name:"GraphEditor",components:{Subgraphs:Object(m.a)(J,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex flex-col"},[s("section",[s("h2",{staticClass:"h h--2"},[t._v("\n            Make new subgraph\n        ")]),t._v(" "),s("label",{staticClass:"flex flex-col items-start"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newSubgraphName,expression:"newSubgraphName"}],staticClass:"mb-2 p-2 rounded text-gray-800 text-base placeholder-gray-600",attrs:{type:"text",placeholder:"foo subgraph"},domProps:{value:t.newSubgraphName},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.makeNewSubgraphLocal(e)},input:function(e){e.target.composing||(t.newSubgraphName=e.target.value)}}}),t._v(" "),s("button",{staticClass:"btn btn--primary",attrs:{type:"submit",disabled:0===t.newSubgraphName.trim().length},on:{click:t.makeNewSubgraphLocal}},[t._v("\n                Create\n            ")])])]),t._v(" "),s("hr",{staticClass:"my-5"}),t._v(" "),t.subgraphsInGraph.length>0?s("section",[s("h2",{staticClass:"h h--2"},[t._v("\n            Subgraphs\n        ")]),t._v(" "),t._l(t.subgraphsInGraph,(function(t){return s("SubgraphEditor",{key:t.id,staticClass:"m-4 p-4 border border-gray-500",attrs:{subgraphId:t.id}})}))],2):t._e()])}),[],!1,null,null,null).exports},props:{graphId:{type:String,required:!0}},data:()=>({postIdToAddToGraph:null,newGraphName:""}),computed:{...Object(a.e)("dataModule",["graphs"]),...Object(a.c)("dataModule",["postIds","titleOrBody"]),graph(){return this.graphs[this.graphId]}},methods:{...Object(a.d)("dataModule",["changeGraphName","removeGraph"]),changeGraphNameLocal(){0!==this.newGraphName.trim().length&&(this.changeGraphName({graphId:this.graphId,newGraphName:this.newGraphName}),this.newGraphName="")}}},q={name:"Graphs",components:{GraphEditor:Object(m.a)(Z,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"flex justify-between"},[s("h3",{staticClass:"h h--3"},[t._v("\n            "+t._s(t.graph.name)+"\n        ")]),t._v(" "),"1"!==t.graphId?s("button",{staticClass:"py-1 px-2 btn btn--secondary",on:{click:function(e){return t.removeGraph(t.graphId)}}},[t._v("\n            Remove\n        ")]):t._e()]),t._v(" "),s("div",[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newGraphName,expression:"newGraphName"}],staticClass:"mb-2 p-2 rounded text-gray-800 text-base placeholder-gray-600",attrs:{type:"text",placeholder:"foo graph"},domProps:{value:t.newGraphName},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeGraphNameLocal(e)},input:function(e){e.target.composing||(t.newGraphName=e.target.value)}}}),t._v(" "),s("button",{staticClass:"py-1 px-2 btn btn--secondary",attrs:{disabled:0===t.newGraphName.trim().length},on:{click:t.changeGraphNameLocal}},[t._v("\n                Change graph name\n            ")])])]),t._v(" "),s("Subgraphs",{staticClass:"pl-10",attrs:{graphId:t.graphId}})],1)}),[],!1,null,null,null).exports},data:()=>({newGraphName:""}),computed:{...Object(a.e)("dataModule",["graphs"]),...Object(a.c)("dataModule",["postIds","titleOrBody"])},methods:{...Object(a.d)("dataModule",["makeNewGraph"]),makeNewGraphLocal(){this.makeNewGraph(this.newGraphName),this.newGraphName=""}}},K=Object(m.a)(q,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex flex-col"},[s("section",[s("h2",{staticClass:"h h--2"},[t._v("\n            Make new graph\n        ")]),t._v(" "),s("label",{staticClass:"flex flex-col items-start"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newGraphName,expression:"newGraphName"}],staticClass:"mb-2 p-2 rounded text-gray-800 text-base placeholder-gray-600",attrs:{type:"text",placeholder:"foo graph"},domProps:{value:t.newGraphName},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.makeNewGraphLocal(e)},input:function(e){e.target.composing||(t.newGraphName=e.target.value)}}}),t._v(" "),s("button",{staticClass:"btn btn--primary",attrs:{type:"submit",disabled:0===t.newGraphName.trim().length},on:{click:t.makeNewGraphLocal}},[t._v("\n                Create\n            ")])])]),t._v(" "),s("hr",{staticClass:"my-5"}),t._v(" "),s("section",[s("h2",{staticClass:"h h--2"},[t._v("\n            Edit graphs\n        ")]),t._v(" "),t._l(t.graphs,(function(t,e){return s("GraphEditor",{key:e,staticClass:"m-4 p-4 border border-gray-500",attrs:{graphId:e}})}))],2)])}),[],!1,null,null,null).exports;function X(t){return Number.isInteger(t)||function(t){if(RegExp(/^0+$/).test(t))return!0;const e=t.replace(/^0+/,""),s=Math.floor(Number(e));return s!==1/0&&String(s)===e&&s>=0}(t)}var tt={name:"ExportedPost",props:{post:{type:Object,required:!0},linkIdsToExport:{type:Array,required:!0}},computed:{...Object(a.e)("dataModule",["posts","links"]),...Object(a.c)("dataModule",["postIds","titleOrBody","postIdsThatLinkToPost"]),linkedPosts(){return this.postIdsThatLinkToPost(this.post.id)},linksToPost(){return Object.entries(this.linkedPosts.to).filter(([t,e])=>this.linkIdsToExport.includes(t))},linksFromPost(){return Object.entries(this.linkedPosts.from).filter(([t,e])=>this.linkIdsToExport.includes(t))}},methods:{marked:A}},et={name:"BlogpostExporter",components:{ExportedPost:Object(m.a)(tt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"section font-sans markdownContent",attrs:{id:"section-"+t.post.id}},[t.post.title.length>0?s("h2",{staticClass:"h h--2 section__header"},[t._v("\n        "+t._s(t.titleOrBody(t.post.id))+"\n    ")]):t._e(),t._v(" "),t.linksToPost.length>0?s("div",{staticClass:"section__links section__links--to"},[s("h4",{staticClass:"h h--4 section__links__header"},[t._v("\n            Links to this section:\n        ")]),t._v(" "),s("ul",{staticClass:"section__links__list"},t._l(t.linksToPost,(function(e){var o=e[0],a=e[1];return s("li",{key:o},[s("a",{staticClass:"link",attrs:{href:"#section-"+a}},[t._v("\n                    "+t._s(t.titleOrBody(a))+"\n                ")])])})),0)]):t._e(),t._v(" "),s("div",{domProps:{innerHTML:t._s(t.marked(t.post.body))}}),t._v(" "),t.linksFromPost.length>0?s("div",{staticClass:"section__links section__links--from"},[s("h4",{staticClass:"h h--4 section__links__header"},[t._v("\n            Links from this section:\n        ")]),t._v(" "),s("ul",{staticClass:"section__links__list"},t._l(t.linksFromPost,(function(e){var o=e[0],a=e[1];return s("li",{key:o},[s("a",{staticClass:"link",attrs:{href:"#section-"+a}},[t._v("\n                    "+t._s(t.titleOrBody(a))+"\n                ")])])})),0)]):t._e()])}),[],!1,null,null,null).exports},data:()=>({postIdsString:"",linkIdsString:""}),computed:{...Object(a.e)("dataModule",["posts","links"]),...Object(a.c)("dataModule",["postIds","linkIds"]),postIdsToExport(){return this.postIdsString.split(",").map(t=>t.trim().replaceAll('"',"")).filter(t=>0!==t.length)},linkIdsToExport(){return this.linkIdsString.split(",").map(t=>t.trim().replaceAll('"',"")).filter(t=>0!==t.length)},postIdsStringIsValid(){return this.postIdsToExport.length>0&&this.postIdsToExport.every(t=>X(t)&&this.postIds.includes(t))},linkIdsStringIsValid(){return 0===this.linkIdsToExport.length||this.linkIdsToExport.every(t=>X(t)&&this.linkIds.includes(t))}},methods:{exportBlogPost(){const t=new Blob([this.$refs.export.innerHTML],{type:"text/html"}),e=(new Date).toISOString().replace("T","_").replace("Z","");this.downloadData(t,`blogPost-${e}.html`)},downloadData(t,e){let s=document.createElement("a");document.body.appendChild(s),s.style="display: none";const o=window.URL.createObjectURL(t);s.href=o,s.download=e,s.click(),window.URL.revokeObjectURL(o)}}},st={name:"LoadSave",components:{BlogpostExporter:Object(m.a)(et,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex flex-col items-start"},[s("h2",{staticClass:"h h--2"},[t._v("\n        Blogpost exporter\n    ")]),t._v(" "),s("label",{staticClass:"my-4 flex"},[t._v("\n        Node IDs:\n        "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.postIdsString,expression:"postIdsString"}],staticClass:"ml-4 p-2 rounded border text-gray-800 placeholder-gray-600",class:{"input--error":!t.postIdsStringIsValid},attrs:{type:"text",placeholder:"1, 2, 3",minlength:"0"},domProps:{value:t.postIdsString},on:{input:function(e){e.target.composing||(t.postIdsString=e.target.value)}}})]),t._v(" "),s("label",{staticClass:"my-4 flex"},[t._v("\n        Link IDs:\n        "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.linkIdsString,expression:"linkIdsString"}],staticClass:"ml-4 p-2 rounded border text-gray-800 placeholder-gray-600",class:{"input--error":!t.linkIdsStringIsValid},attrs:{type:"text",placeholder:"1, 2, 3",minlength:"0"},domProps:{value:t.linkIdsString},on:{input:function(e){e.target.composing||(t.linkIdsString=e.target.value)}}})]),t._v(" "),s("button",{staticClass:"btn btn--secondary my-4 py-1 px-2",attrs:{disabled:!t.postIdsStringIsValid||!t.linkIdsStringIsValid},on:{click:t.exportBlogPost}},[t._v("\n        Export blog post\n    ")]),t._v(" "),s("div",[t._v("\n        Export:\n        "),s("div",{ref:"export"},[t.postIdsStringIsValid&&t.linkIdsStringIsValid?s("article",t._l(t.postIdsToExport,(function(e){return s("ExportedPost",{key:e,attrs:{post:t.posts[e],linkIdsToExport:t.linkIdsToExport}})})),1):s("article",[t._v("\n                invalid\n            ")])])])])}),[],!1,null,null,null).exports},data:()=>({fileToImport:null,shouldImportData:!1,shouldImportSettings:!1,shouldTakeDataFrom:null}),computed:{...Object(a.e)("settingsModule",["shouldAutosave"]),...Object(a.c)(["storageObject"]),isAlreadySyncingWithFirebase(){return"firebase"===this.$store.state.settingsModule.remoteStorageMethod},shouldShowTakeDataFromSelect(){return this.shouldImportSettings&&!this.isAlreadySyncingWithFirebase&&!this.shouldImportData},fileToImportIsValid(){return null!==this.fileToImport&&"application/json"===this.fileToImport.type},importButtonIsDisabled(){return!this.fileToImportIsValid||!this.shouldImportData&&!this.shouldImportSettings||this.shouldShowTakeDataFromSelect&&null===this.shouldTakeDataFrom}},methods:{...Object(a.b)(["saveStateToStorage","loadStateFromStorage","importData","importSettings"]),onFileUpload(t){const e=t.target.files||t.dataTransfer.files;if(!e.length||e.length>1)return;const s=e[0];this.fileToImport=e[0],"application/json"===s.type||alert("You must upload a JSON file exported by the 'export' button")},async importState(){const t=await this.fileToImport.text(),e=JSON.parse(t);if(!("dataModule"in e)||!("settingsModule"in e)||!("firebaseModule"in e))return void alert("Imported file isn't valid");this.shouldImportData&&await this.importData(e);const s=e.settingsModule.remoteStorageMethod&&"firebase"===e.settingsModule.remoteStorageMethod;this.shouldImportSettings&&(this.shouldShowTakeDataFromSelect&&null!==this.shouldTakeDataFrom&&s?await this.importSettings({storageObject:e,shouldTakeDataFrom:this.shouldTakeDataFrom}):await this.importSettings({storageObject:e,shouldTakeDataFrom:null})),this.fileToImport=null,await this.saveStateToStorage()},exportState(){const t=new Blob([JSON.stringify(this.storageObject)],{type:"application/json"}),e=(new Date).toISOString().replace("T","_").replace("Z","");this.downloadData(t,`spiderwebExport-${e}.json`)},downloadData(t,e){let s=document.createElement("a");document.body.appendChild(s),s.style="display: none";const o=window.URL.createObjectURL(t);s.href=o,s.download=e,s.click(),window.URL.revokeObjectURL(o)}}},ot=Object(m.a)(st,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[t.shouldAutosave?t._e():s("div",{staticClass:"mb-8 flex justify-around"},[s("button",{staticClass:"btn btn--primary",on:{click:t.saveStateToStorage}},[t._v("\n                Save\n            ")])]),t._v(" "),s("div",{staticClass:"flex justify-around items-start"},[s("div",{staticClass:"w-1/2 flex flex-col items-start"},[s("label",{staticClass:"mb-4"},[s("button",{staticClass:"btn btn--secondary",on:{click:function(e){return t.$refs.fileInput.click()}}},[t._v("\n                        Upload a data/settings file that's been previously exported\n                    ")]),t._v(" "),s("input",{ref:"fileInput",staticClass:"hidden",attrs:{type:"file",accept:"application/json"},on:{change:t.onFileUpload}})]),t._v(" "),t.fileToImportIsValid?s("div",{staticClass:"mb-4 flex flex-col items-start"},[s("label",[t._v("\n                        Import data\n                        "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.shouldImportData,expression:"shouldImportData"}],staticClass:"ml-4",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.shouldImportData)?t._i(t.shouldImportData,null)>-1:t.shouldImportData},on:{change:function(e){var s=t.shouldImportData,o=e.target,a=!!o.checked;if(Array.isArray(s)){var n=t._i(s,null);o.checked?n<0&&(t.shouldImportData=s.concat([null])):n>-1&&(t.shouldImportData=s.slice(0,n).concat(s.slice(n+1)))}else t.shouldImportData=a}}})]),t._v(" "),s("label",[t._v("\n                        Import settings\n                        "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.shouldImportSettings,expression:"shouldImportSettings"}],staticClass:"ml-4",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.shouldImportSettings)?t._i(t.shouldImportSettings,null)>-1:t.shouldImportSettings},on:{change:function(e){var s=t.shouldImportSettings,o=e.target,a=!!o.checked;if(Array.isArray(s)){var n=t._i(s,null);o.checked?n<0&&(t.shouldImportSettings=s.concat([null])):n>-1&&(t.shouldImportSettings=s.slice(0,n).concat(s.slice(n+1)))}else t.shouldImportSettings=a}}})]),t._v(" "),s("p",[t.shouldImportData||t.shouldImportSettings?t._e():s("sub",{staticClass:"text-gray-500"},[t._v("\n                            (you need to import data and/or settings)\n                        ")])]),t._v(" "),t.shouldShowTakeDataFromSelect?s("label",{staticClass:"mt-2 pt-2 border-t border-r-0 border-b-0 border-l-0 border-gray-400"},[t._v("\n                        If the settings I'm importing will start syncing data with Firebase,\n                        "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.shouldTakeDataFrom,expression:"shouldTakeDataFrom"}],ref:"shouldTakeDataFromSelect",staticClass:"select text-red",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.shouldTakeDataFrom=e.target.multiple?s:s[0]}}},[null===t.shouldTakeDataFrom?s("option",{attrs:{disabled:""},domProps:{value:null}},[t._v("\n                                [please choose an option]\n                            ")]):t._e(),t._v(" "),s("option",{attrs:{value:"local"}},[t._v("\n                                keep using the data that's been stored locally\n                            ")]),t._v(" "),s("option",{attrs:{value:"firebase"}},[t._v("\n                                use any data that's already been stored in Firebase, and overwrite what I've stored locally\n                            ")])])]):t._e(),t._v(" "),t._m(0),t._v(" "),t._m(1)]):t._e(),t._v(" "),s("button",{staticClass:"btn btn--primary",attrs:{disabled:t.importButtonIsDisabled},on:{click:t.importState}},[t._v("\n                    Import the uploaded file\n                ")]),t._v(" "),null===t.fileToImport||t.fileToImportIsValid&&(t.shouldImportData||t.shouldImportSettings)?t._e():s("sub",{staticClass:"my-2 text-xs text-gray-500"},[t._v("\n                    "+t._s(t.fileToImportIsValid?t.shouldImportData||t.shouldImportSettings?"":"you must click one of the 'import' buttons above":"the file you've uploaded isn't valid")+"\n                ")])]),t._v(" "),s("div",{staticClass:"w-1/2 flex justify-end"},[s("button",{staticClass:"btn btn--primary",on:{click:t.exportState}},[t._v("\n                    Export data and settings\n                ")])])]),t._v(" "),s("hr",{staticClass:"mt-10 mb-4"}),t._v(" "),s("BlogpostExporter")],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("sub",{staticClass:"text-gray-500"},[this._v("\n                            The file you're importing must look like this:\n                        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",{staticClass:"overflow-y-auto",staticStyle:{"max-height":"33vh"}},[e("code",[this._v('{\n    "dataModule": {\n        "posts": {},\n        "links": {},\n        "graphs": {\n            "1": {\n                "id": 1,\n                "name": "default",\n                "nodes": [],\n                "subgraphs": []\n            }\n        },\n        "subgraphs": {\n            "1": {\n                "id": 1,\n                "name": "default",\n                "nodes": [],\n                "links": [],\n                "colour": "#000000"\n            }\n        },\n        "selectedPostIds": [],\n        "selectedGraphId": 1,\n        "selectedSubgraphIds": []\n    },\n    "settingsModule": {\n        "shouldAutosave": true,\n        "remoteStorageMethod": "firebase",\n        "canOpenMultiplePosts": true,\n        "graphHeight": 66,\n        "postBarHeight": 66\n    },\n    "firebaseModule": {\n        "firebaseConfig": {\n            "apiKey": "x",\n            "authDomain": "y",\n            "databaseURL": "z",\n            "projectId": "xy",\n            "storageBucket": "yz",\n            "messagingSenderId": "xyz",\n            "appId": "xx"\n        }\n    }\n}')])])}],!1,null,null,null).exports,at={name:"Settings",data:()=>({remoteStorageMethodInComponent:"none",shouldTakeDataFrom:null,firebaseConfigInComponent:""}),computed:{shouldAutosave:{get(){return this.$store.state.settingsModule.shouldAutosave},set(t){this.setShouldAutosave(t)}},remoteStorageMethod(){return this.$store.state.settingsModule.remoteStorageMethod},firebaseConfig:{get(){return JSON.stringify(this.$store.state.firebaseModule.firebaseConfig)},set(t){try{this.setFirebaseConfig(JSON.parse(t))}catch(t){alert('Firebase config isn\'t formatted correctly, it should be like this: {"apiKey":"xx","authDomain":"x.firebaseapp.com","databaseURL":"https://x.firebaseio.com","projectId":"spiderweb-e49bd","storageBucket":"x.appspot.com","messagingSenderId":"123","appId":"xyz"}')}}},canOpenMultiplePosts:{get(){return this.$store.state.settingsModule.canOpenMultiplePosts},set(t){this.setCanOpenMultiplePosts(t)}},graphHeight:{get(){return this.$store.state.settingsModule.graphHeight},set(t){this.setGraphHeight(t)}},postBarHeight:{get(){return this.$store.state.settingsModule.postBarHeight},set(t){this.setPostBarHeight(t)}},postWidth:{get(){return this.$store.state.settingsModule.postWidth},set(t){this.setPostWidth(Math.min(94,t))}},firebaseConfigIsValid(){try{const t=JSON.parse(this.firebaseConfigInComponent);return"object"==typeof t&&"string"==typeof t.apiKey&&""!==t.apiKey.trim()}catch(t){return!1}},canChangeStorageMethod(){return"firebase"!==this.remoteStorageMethodInComponent||null!==this.shouldTakeDataFrom&&this.firebaseConfigIsValid}},created(){this.remoteStorageMethodInComponent=this.remoteStorageMethod,this.firebaseConfigInComponent=this.firebaseConfig},methods:{...Object(a.d)("settingsModule",["setShouldAutosave","setCanOpenMultiplePosts","setGraphHeight","setPostBarHeight","setPostWidth"]),...Object(a.b)("settingsModule",["setRemoteStorageMethod"]),...Object(a.b)("firebaseModule",["setFirebaseConfig"]),async changeStorageMethod(){this.firebaseConfig!==this.firebaseConfigInComponent&&(this.firebaseConfig=this.firebaseConfigInComponent),await this.setRemoteStorageMethod({remoteStorageMethod:this.remoteStorageMethodInComponent,shouldTakeDataFrom:this.shouldTakeDataFrom})}}},nt=(s("ZUxk"),{name:"OfflineApp",components:{Viewer:V,Graphs:K,LoadSave:ot,Settings:Object(m.a)(at,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"flex flex-col items-start"},[s("div",{staticClass:"setting"},[s("label",[t._v("\n            Data\n            "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.shouldAutosave,expression:"shouldAutosave"}],staticClass:"text-red select",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.shouldAutosave=e.target.multiple?s:s[0]}}},[s("option",{domProps:{value:!0}},[t._v("\n                    should\n                ")]),t._v(" "),s("option",{domProps:{value:!1}},[t._v("\n                    shouldn't\n                ")])]),t._v("\n            be saved automatically when something changes\n        ")]),t._v(" "),t.shouldAutosave?t._e():s("sub",{staticClass:"text-gray-500"},[t._v('\n            (you\'ll need to press "save" in the "load/save" tab)\n        ')])]),t._v(" "),s("div",{staticClass:"setting flex flex-col",class:{"w-full md:w-1/2":"firebase"===t.remoteStorageMethod}},[s("div",{staticClass:"flex flex-col items-start"},[s("label",[t._v("\n                Data\n                "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.remoteStorageMethodInComponent,expression:"remoteStorageMethodInComponent"}],staticClass:"ml-4 text-red select",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.remoteStorageMethodInComponent=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"none"}},[t._v("shouldn't")]),t._v(" "),s("option",{attrs:{value:"firebase"}},[t._v("should")])]),t._v("\n                be synced to "),s("a",{staticClass:"link",attrs:{href:"https://firebase.google.com/docs/database"}},[t._v("\n                    Firebase's Realtime Database\n                ")]),t._v(" "),"firebase"===t.remoteStorageMethodInComponent?s("sub",{staticClass:"ml-1 text-xs text-gray-500"},[t._v("\n                    copy your Firebase config from "),s("a",{staticClass:"link",attrs:{href:"https://firebase.google.com/docs/web/setup?authuser=0#config-object",target:"_blank"}},[t._v("here")]),t._v(", it must be like\n                    "),t._m(0)]):t._e()]),t._v(" "),"none"!==t.remoteStorageMethodInComponent?s("div",{staticClass:"w-full flex flex-col items-start"},[t.remoteStorageMethodInComponent!==t.remoteStorageMethod?s("label",[t._v("\n                    When I start syncing data with Firebase, I want to\n                    "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.shouldTakeDataFrom,expression:"shouldTakeDataFrom"}],staticClass:"text-red select",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.shouldTakeDataFrom=e.target.multiple?s:s[0]}}},[null===t.shouldTakeDataFrom?s("option",{attrs:{disabled:""},domProps:{value:null}},[t._v("\n                            [please choose an option]\n                        ")]):t._e(),t._v(" "),s("option",{attrs:{value:"local"}},[t._v("\n                            keep using the data that's been stored locally\n                        ")]),t._v(" "),s("option",{attrs:{value:"firebase"}},[t._v("\n                            use any data that's already been stored in Firebase, and overwrite what I've stored locally\n                        ")])])]):t._e(),t._v(" "),"firebase"===t.remoteStorageMethodInComponent?s("pre",{staticClass:"w-full"},[s("label",[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.firebaseConfigInComponent,expression:"firebaseConfigInComponent"}],staticClass:"p-2 w-full h-48 rounded border text-gray-800 placeholder-gray-600",attrs:{required:"required"},domProps:{value:t.firebaseConfigInComponent},on:{input:function(e){e.target.composing||(t.firebaseConfigInComponent=e.target.value)}}})])]):t._e(),t._v(" "),t.firebaseConfigIsValid?t._e():s("p",[t._v("\n                    Firebase config invalid, it should look like\n                    "),t._m(1)])]):t._e(),t._v(" "),t.remoteStorageMethodInComponent!==t.remoteStorageMethod?s("button",{staticClass:"btn btn--primary mt-2",attrs:{type:"button",disabled:!t.canChangeStorageMethod},on:{click:t.changeStorageMethod}},[t._v("\n                Change storage method\n            ")]):t._e()])]),t._v(" "),s("div",{staticClass:"setting"},[s("label",[t._v("\n            When I already have a post open in the viewer, and I click on a second one, the second one should\n            "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.canOpenMultiplePosts,expression:"canOpenMultiplePosts"}],staticClass:"text-red select",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.canOpenMultiplePosts=e.target.multiple?s:s[0]}}},[s("option",{domProps:{value:!0}},[t._v("\n                    be opened as well\n                ")]),t._v(" "),s("option",{domProps:{value:!1}},[t._v("\n                    replace the already-open one\n                ")])])])]),t._v(" "),s("div",{staticClass:"setting"},[s("label",{staticClass:"block"},[t._v("\n            The graph should take up\n            "),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.graphHeight,expression:"graphHeight",modifiers:{number:!0}}],staticClass:"ml-4 mb-2 p-2 w-16  rounded text-gray-800 text-base bg-gray-400",attrs:{type:"number",inputmode:"numeric",pattern:"^[1-9][0-9]?$|^100$",size:"3",minlength:"1",maxlength:"3",min:"1",max:"100",step:"1"},domProps:{value:t.graphHeight},on:{input:function(e){e.target.composing||(t.graphHeight=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v("\n            % of the browser window's height\n        ")]),t._v(" "),s("label",{staticClass:"block"},[t._v("\n            The post-bar should take up\n            "),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.postBarHeight,expression:"postBarHeight",modifiers:{number:!0}}],staticClass:"ml-4 mb-2 p-2 w-16  rounded text-gray-800 text-base bg-gray-400",attrs:{type:"number",inputmode:"numeric",pattern:"^[1-9][0-9]?$|^100$",size:"3",minlength:"1",maxlength:"3",min:"1",max:"100",step:"1"},domProps:{value:t.postBarHeight},on:{input:function(e){e.target.composing||(t.postBarHeight=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v("\n            % of the browser window's height\n        ")]),t._v(" "),s("label",{staticClass:"block"},[t._v("\n            Each post should take up at least\n            "),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.postWidth,expression:"postWidth",modifiers:{number:!0}}],staticClass:"ml-4 mb-2 p-2 w-16 rounded text-gray-800 text-base bg-gray-400",attrs:{type:"number",inputmode:"numeric",pattern:"^[1-9][0-9]?$|^100$",size:"3",minlength:"1",maxlength:"3",min:"1",max:"94",step:"1"},domProps:{value:t.postWidth},on:{input:function(e){e.target.composing||(t.postWidth=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v("\n            % of the browser window's width\n        ")]),t._v(" "),s("div",{staticClass:"p-1 h-64 w-64 flex flex-col overflow-auto border border-solid border-gray-600"},[s("div",{staticClass:"p-1 w-full border border-solid border-gray-600",style:{"min-height":t.graphHeight+"%"}},[t._v("\n                Graph\n            ")]),t._v(" "),s("div",{staticClass:"mt-1 p-1 w-full border border-solid border-gray-600 flex items-start overflow-x-auto",style:{"min-height":t.postBarHeight+"%"}},[s("div",{staticClass:"mt-1 mr-1 mb-1 p-1 border border-solid border-gray-600 text-xs",style:{"min-width":t.postWidth+6+"%"}},[t._v("\n                    Post\n                ")]),t._v(" "),s("div",{staticClass:"m-1 p-1 border border-solid border-gray-600 text-xs",style:{"min-width":t.postWidth+6+"%"}},[t._v("\n                    Post\n                ")])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("pre",{staticClass:"inline bg-red-700 text-white p-1"},[e("code",[this._v('{"apiKey":"xyz",..}')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",{staticClass:"whitespace-pre-wrap bg-red-700 text-white p-1"},[this._v('{"apiKey":"xx","authDomain":"x.firebaseapp.com","databaseURL":"https://x.firebaseio.com","projectId":"spiderweb-e49bd","storageBucket":"x.appspot.com","messagingSenderId":"123","appId":"xyz"}')])])}],!1,null,"0ae0b30a",null).exports},data:()=>({currentTab:"viewer",tabs:[{key:"viewer",name:"Viewer"},{key:"graphs",name:"Graphs"},{key:"load-save",name:"Load/save"},{key:"settings",name:"Settings"}]}),computed:{...Object(a.e)(["loadingApp","failedToLoadData"])},methods:{...Object(a.b)(["loadStateFromStorage"]),...Object(a.b)("settingsModule",["setRemoteStorageMethod"]),refreshPage(){window.location.reload()},async switchToLoadingDataFromLocalStorage(){await this.setRemoteStorageMethod({remoteStorageMethod:"none",shouldTakeDataFrom:"local"}),await this.loadStateFromStorage()}}}),it=(s("Yt15"),{name:"OfflineRoot",components:{OfflineApp:Object(m.a)(nt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[t.loadingApp?s("div",{staticClass:"px-4 md:px-8"},[t._v("\n        loading..\n        "),s("br"),t._v("\n        (this will timeout in 10 seconds)\n\n        "),t.failedToLoadData?s("div",{staticClass:"mt-4"},[s("p",{staticClass:"text-red font-bold"},[t._v("\n                Couldn't load data from Firebase\n            ")]),t._v(" "),s("button",{staticClass:"btn btn--primary",attrs:{type:"button"},on:{click:t.refreshPage}},[t._v("\n                Refresh\n            ")]),t._v(" "),s("button",{staticClass:"btn btn--secondary",attrs:{type:"button"},on:{click:t.switchToLoadingDataFromLocalStorage}},[t._v("\n                Load data from Local Storage instead\n            ")]),t._v(" "),s("sub",{staticClass:"my-2 text-xs text-gray-500"},[t._v("\n                (any data stored in Firebase will still be there)\n            ")])]):t._e()]):[s("nav",{staticClass:"flex flex-wrap",staticStyle:{"border-bottom":"5px solid var(--red)"}},t._l(t.tabs,(function(e){return s("button",{key:e.key,staticClass:"optionBtn flex-grow",class:{"optionBtn--selected":t.currentTab===e.key},on:{click:function(s){t.currentTab=e.key}}},[t._v("\n                "+t._s(e.name)+"\n            ")])})),0),t._v(" "),s("div",{staticClass:"min-h-full py-4 px-4 md:px-8 componentContainer"},[s("keep-alive",[s(t.currentTab,{tag:"component"})],1)],1)]],2)}),[],!1,null,"4dda639c",null).exports},async mounted(){await this.loadStateFromStorage()},methods:{...Object(a.b)(["loadStateFromStorage"])}}),rt=Object(m.a)(it,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"h-full"},[e("OfflineApp",{staticClass:"w-full h-full"})],1)}),[],!1,null,null,null).exports;var lt={state:{shouldAutosave:!0,remoteStorageMethod:"none",canOpenMultiplePosts:!0,graphHeight:66,postBarHeight:66,postWidth:50},getters:{},mutations:{setState(t,e){0!==Object.keys(e).length&&(t.shouldAutosave=null==e.shouldAutosave||e.shouldAutosave,t.canOpenMultiplePosts=null==e.canOpenMultiplePosts||e.canOpenMultiplePosts,t.remoteStorageMethod=e.remoteStorageMethod||"none",t.graphHeight=e.graphHeight||66,t.postBarHeight=e.postBarHeight||66,t.postWidth=e.postWidth||50)},setShouldAutosave(t,e){t.shouldAutosave=e},setRemoteStorageMethod(t,e){!function t(e,s,a){const n=s.shift();e[n]||o.a.set(e,n,{}),s.length?t(e[n],s,a):a&&"object"==typeof a&&!Array.isArray(a)?e[n]={...e[n],...a}:e[n]=a}(t,["remoteStorageMethod"],e)},setCanOpenMultiplePosts(t,e){t.canOpenMultiplePosts=e},setGraphHeight(t,e){!X(e)||e>100||(t.graphHeight=e)},setPostBarHeight(t,e){!X(e)||e>100||(t.postBarHeight=e)},setPostWidth(t,e){!X(e)||e>100||(t.postWidth=e)}},actions:{async setRemoteStorageMethod(t,{remoteStorageMethod:e,shouldTakeDataFrom:s}){const o="none"!==e;t.commit("setRemoteStorageMethod",e),o&&await t.dispatch("loadDataFrom",s,{root:!0}),await t.dispatch("saveStateToLocalStorage",null,{root:!0})}},namespaced:!0};var ct={state:{firebaseConfig:{apiKey:"",authDomain:"xxx.firebaseapp.com",databaseURL:"https://xxx.firebaseio.com",projectId:"xxx",storageBucket:"xxx.appspot.com",messagingSenderId:"123",appId:"456"}},getters:{},mutations:{setState(t,e){0!==Object.keys(e).length&&(t.firebaseConfig=e.firebaseConfig||{apiKey:"",authDomain:"xxx.firebaseapp.com",databaseURL:"https://xxx.firebaseio.com",projectId:"xxx",storageBucket:"xxx.appspot.com",messagingSenderId:"123",appId:"456"})},setFirebaseConfig(t,e){t.firebaseConfig=e}},actions:{async setFirebaseConfig(t,e){if(""===e.apiKey)throw new Error("firebase config is wrong, please check it");t.commit("setFirebaseConfig",e),await t.dispatch("loadStateFromStorage",null,{root:!0})}},namespaced:!0};class dt{constructor(t,e,s,o,a){this.id=t,this.name=e,this.nodes=s,this.nodePositions=o,this.subgraphs=a}serialise(){return{id:this.id,name:this.name,nodes:this.nodes,nodePositions:this.nodePositions,subgraphs:this.subgraphs}}static unserialise(t){return new dt(String(t.id),t.name,t.nodes.map(String),t.nodePositions,t.subgraphs.map(String))}}var ut={state:{graphs:{1:{id:1,name:"default",nodes:[],nodePositions:{},subgraphs:[]}}},getters:{},mutations:{makeNewGraph(t,e){if(0===e.trim().length)return;if(Object.values(t.graphs).map(t=>t.name).includes(e))return void alert("You're trying to add a graph that already exists, choose a different name");const s=Object.keys(t.graphs),a=(0===s.length?0:Math.max(...s.map(t=>parseInt(t,10))))+1,n=new dt(String(a),e,[],{},[]);o.a.set(t.graphs,a,n.serialise())},changeGraphName(t,{graphId:e,newGraphName:s}){t.graphs[e].name=s},removeGraph(t,e){t.selectedGraphId===e&&(t.selectedGraphId=null);const s=t.selectedSubgraphIds.filter(s=>!t.graphs[e].subgraphs.includes(s));t.selectedSubgraphIds=0===s.length?[]:s;for(const s of t.graphs[e].subgraphs)o.a.delete(t.subgraphs,s);for(const s of Object.values(t.links)){s.graph===e&&o.a.delete(t.links,s.id)}},addPostToGraph(t,{graphId:e,postId:s}){t.graphs[e].nodes.includes(s)||t.graphs[e].nodes.push(s)},removePostFromGraph(t,{graphId:e,postId:s}){let a={};for(const o of Object.values(t.links)){const n=o.graph===e,i=o.source===s||o.target===s;if(n&&i)for(const e of Object.keys(t.subgraphs)){const s=t.subgraphs[e].links.indexOf(o.id);s>=0&&t.subgraphs[e].links.splice(s,1)}else a[o.id]=o}o.a.set(t,"links",a);for(let s of t.graphs[e].subgraphs){const e=t.subgraphs[s],a=Object.assign(Object.assign({},e),{nodes:e.nodes.filter(t=>t!=t)});o.a.set(t.subgraphs,s,a)}let n={};for(const[o,a]of Object.entries(t.graphs[e].nodePositions))o!==s&&(n[o]=a);o.a.set(t.graphs[e],"nodePositions",n),o.a.set(t.graphs[e],"nodes",t.graphs[e].nodes.filter(t=>t!==s))},setPostPosition(t,{postId:e,position:s}){o.a.set(t.graphs[t.selectedGraphId].nodePositions,e,s)}},actions:{}};class ht{constructor(t,e,s,o,a){this.id=t,this.title=e,this.body=s,this.createdAt=o,this.updatedAt=a}serialise(){return{id:this.id,title:this.title,body:this.body,createdAt:this.createdAt,updatedAt:this.updatedAt}}static unserialise(t){return new ht(String(t.id),t.title,t.body,t.createdAt,t.updatedAt)}}var pt=function(t,e,s,o){return new(s||(s=Promise))((function(a,n){function i(t){try{l(o.next(t))}catch(t){n(t)}}function r(t){try{l(o.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(i,r)}l((o=o.apply(t,e||[])).next())}))};var gt={state:{posts:{}},getters:{postIds:t=>Object.keys(t.posts),unattachedPosts(t){let e=[];for(let s of Object.values(t.graphs))e=e.concat(s.nodes);const s=[...new Set(e)];return Object.keys(t.posts).filter(t=>!s.includes(t)).map(e=>t.posts[e])},titleOrBody:t=>e=>{const s=t.posts[e],o=s.title.split("\n")[0].trim();if(o.length>0)return o;const a=s.body.split("\n")[0].trim();return a.length>30?a.substr(0,30)+"..":a},neighbourIndex(t,e){let s={};return e.linksInSelectedSubgraphs.forEach((function(t){const e=parseInt(t.source,10),o=parseInt(t.target,10),a=Math.min(e,o),n=Math.max(e,o);s[a+","+n]=1})),s},isNeighbour:(t,e)=>(t,s)=>{const o=parseInt(t,10),a=parseInt(s,10),n=Math.min(o,a),i=Math.max(o,a);return void 0!==e.neighbourIndex[n+","+i]},postIdsThatLinkToPost:t=>e=>{let s={},o={};return Object.values(t.links).forEach((function(t){t.source===e?s[t.id]=t.target:t.target===e&&(o[t.id]=t.source)})),{from:s,to:o}},linkedSubgraphs:t=>e=>{let s=[];for(let o of Object.values(t.subgraphs))o.nodes.includes(e)&&s.push(o.id);return s}},mutations:{createPost:(t,e)=>(o.a.set(t.posts,e.id,e.serialise()),e),updatePostTitle(t,{id:e,title:s,updatedAt:a}){o.a.set(t.posts[e],"title",s),o.a.set(t.posts[e],"updatedAt",a)},updatePostBody(t,{id:e,body:s,updatedAt:a}){o.a.set(t.posts[e],"body",s),o.a.set(t.posts[e],"updatedAt",a)},deletePost(t,{id:e}){t.selectedPostIds.includes(e)&&t.selectedPostIds.splice(t.selectedPostIds.indexOf(e),1);let s={};for(const o of Object.values(t.links))if(o.source!==e&&o.target!==e)s[o.id]=o;else for(const e of Object.keys(t.subgraphs)){const s=t.subgraphs[e].links.indexOf(o.id);s>=0&&t.subgraphs[e].links.splice(s,1)}for(let[s,a]of Object.entries(t.graphs)){let n={};for(const[t,s]of Object.entries(a.nodePositions))t!==e&&(n[t]=s);const i=Object.assign(Object.assign({},a),{nodes:a.nodes.filter(t=>t!==e),nodePositions:n});o.a.set(t.graphs,s,i)}for(let[s,a]of Object.entries(t.subgraphs)){const n=Object.assign(Object.assign({},a),{nodes:a.nodes.filter(t=>t!==e)});o.a.set(t.subgraphs,s,n)}o.a.set(t,"links",s),o.a.delete(t.posts,e)}},actions:{makeNewPost(t,{title:e,body:s,updatedAt:o,createdAt:a}){return pt(this,void 0,void 0,(function*(){const n=Object.keys(t.state.posts).map(t=>parseInt(t,10)),i=0===n.length?0:Math.max(...n),r=String(i+1),l=new ht(r,e,s,a,o);return t.commit("createPost",l),l}))},updatePostTitle(t,e){return pt(this,void 0,void 0,(function*(){t.commit("updatePostTitle",e)}))},updatePostBody(t,e){return pt(this,void 0,void 0,(function*(){t.commit("updatePostBody",e)}))}}};class mt{constructor(t,e,s,o,a="reply"){this.id=t,this.graph=e,this.source=s,this.target=o,this.type=a}serialise(){return{id:this.id,graph:this.graph,source:this.source,target:this.target,type:this.type}}static unserialise(t){return new mt(String(t.id),String(t.graph),String(t.source),String(t.target),t.type)}}var bt={state:{links:{}},getters:{linkIds:t=>Object.keys(t.links),subgraphsLinkIsIn:t=>e=>{let s=[];for(let o of Object.values(t.subgraphs))o.links.includes(e)&&s.push(o.id);return s}},mutations:{addLink(t,{source:e,target:s,graph:a,type:n="reply",subgraphIds:i=[]}){const r=Object.keys(t.links),l=0===r.length?0:Math.max(...r.map(t=>parseInt(t,10))),c=String(l+1);if(Object.values(t.links).filter(t=>t.graph===a&&t.source===e&&t.target===s&&t.type===n).length>0)return void alert("This link already exists");const d=t.graphs[a].nodes;d.includes(e)||t.graphs[a].nodes.push(e),d.includes(s)||t.graphs[a].nodes.push(s);const u=new mt(c,a,e,s,n);if(o.a.set(t.links,c,u.serialise()),i.length>0)for(const o of i){let a=t.subgraphs[o].nodes;a.includes(e)||t.subgraphs[o].nodes.push(e),a.includes(s)||t.subgraphs[o].nodes.push(s),t.subgraphs[o].links.push(c)}},updateLink(t,e){const s=t.graphs[e.graph].nodes;s.includes(e.source)||t.graphs[e.graph].nodes.push(e.source),s.includes(e.target)||t.graphs[e.graph].nodes.push(e.target),o.a.set(t.links,e.id,e)},changeLinkSource(t,{id:e,source:s}){let a=JSON.parse(JSON.stringify(t.links[e]));if(a.source===s||a.target===s)return;t.graphs[a.graph].nodes.includes(s)||t.graphs[a.graph].nodes.push(s),a.source=s,o.a.set(t.links,e,a)},changeLinkTarget(t,{id:e,target:s}){let a=JSON.parse(JSON.stringify(t.links[e]));if(a.source===s||a.target===s)return;t.graphs[a.graph].nodes.includes(s)||t.graphs[a.graph].nodes.push(s),a.target=s,o.a.set(t.links,e,a)},setSubgraphsLinkIsIn(t,{linkId:e,subgraphsLinkIsIn:s}){for(const o of Object.keys(t.subgraphs)){const a=t.subgraphs[o].links.indexOf(e),n=a>=0,i=s.includes(o);if(n&&!i)t.subgraphs[o].links.splice(a,1);else if(!n&&i){const s=t.links[e],a=t.subgraphs[o].nodes;a.includes(s.source)||t.subgraphs[o].nodes.push(s.source),a.includes(s.target)||t.subgraphs[o].nodes.push(s.target),t.subgraphs[o].links.push(e)}}},removeLink(t,{id:e}){for(const s of Object.keys(t.subgraphs)){const o=t.subgraphs[s].links.indexOf(e);o>=0&&t.subgraphs[s].links.splice(o,1)}o.a.delete(t.links,e)}},actions:{}};var vt={state:{subgraphs:{}},getters:{subgraphColour:t=>e=>void 0===e?"#000000":t.subgraphs[e]&&t.subgraphs[e].colour||function(t){let e=0;for(let s=0;s<t.length;s++)e=t.charCodeAt(s)+((e<<5)-e);let s="#";for(let t=0;t<3;t++){s+=("00"+(e>>8*t&255).toString(16)).substr(-2)}return s}(String(e)+"salt and pepper are good for hashes")},mutations:{makeNewSubgraph(t,{graphId:e,newSubgraphName:s}){if(0===s.trim().length)return;if(Object.values(t.subgraphs).map(t=>t.name).includes(s))return void alert("You're trying to make a subgraph that already exists, choose a different name");const a=Object.keys(t.subgraphs),n=0===a.length?0:Math.max(...a.map(t=>parseInt(t,10))),i=String(n+1);o.a.set(t.subgraphs,i,{id:i,name:s,nodes:[],links:[]}),t.graphs[e].subgraphs.push(i)},changeSubgraphName(t,{subgraphId:e,newSubgraphName:s}){t.subgraphs[e].name=s},changeSubgraphColour(t,{subgraphId:e,colour:s}){t.subgraphs[e].colour=s},removeSubgraph(t,e){const s=t.selectedSubgraphIds.filter(t=>t!==e);t.selectedSubgraphIds=0===s.length?[]:s,t.graphs[t.selectedGraphId].subgraphs.splice(t.graphs[t.selectedGraphId].subgraphs.indexOf(e),1),o.a.delete(t.subgraphs,e)},addPostToSubgraph(t,{subgraphId:e,postId:s}){t.graphs[t.selectedGraphId].nodes.includes(s)||t.graphs[t.selectedGraphId].nodes.push(s),t.subgraphs[e].nodes.includes(s)||t.subgraphs[e].nodes.push(s)},removePostFromSubgraph(t,{subgraphId:e,postId:s}){for(const o of Object.values(t.links)){const a=t.subgraphs[e].links.includes(o.id),n=o.source===s||o.target===s;a&&n&&t.subgraphs[e].links.splice(t.subgraphs[e].links.indexOf(o.id),1)}t.subgraphs[e].nodes.splice(t.subgraphs[e].nodes.indexOf(s),1)}},actions:{}};class ft{constructor(t,e,s,o,a){this.id=t,this.name=e,this.nodes=s,this.links=o,this.colour=a}serialise(){return{id:this.id,name:this.name,nodes:this.nodes,links:this.links,colour:this.colour}}static unserialise(t){return new ft(String(t.id),t.name,t.nodes.map(String),t.links.map(String),t.colour)}}function kt(t,e,s){let o=t.slice(0);const a=t[e];return o.splice(e,1),o.splice(s,0,a),o}function yt(t,e){return Object.assign({},...Object.keys(e).map(s=>({[s]:t(e[s])})))}var _t={state:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ut.state),gt.state),bt.state),vt.state),{selectedPostIds:[],selectedGraphId:1,selectedSubgraphIds:[],zoom:{x:200,y:100,scale:.5}}),getters:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ut.getters),gt.getters),bt.getters),vt.getters),{subgraphsInSelectedGraph:t=>t.graphs[t.selectedGraphId].subgraphs.map(e=>t.subgraphs[e]),postIdsInSelectedSubgraphs(t){let e=[];if(t.selectedSubgraphIds.length>0)for(let s of t.selectedSubgraphIds)e=e.concat(t.subgraphs[s].nodes);else e=t.graphs[t.selectedGraphId].nodes;return[...new Set(e.filter(t=>null!=t))]},postsInSelectedSubgraphs:(t,e)=>e.postIdsInSelectedSubgraphs.map(e=>t.posts[e]),linksInSelectedSubgraphs(t){if(t.selectedSubgraphIds.length>0){let e=[];for(let s of t.selectedSubgraphIds)e=e.concat(t.subgraphs[s].links.map(t=>({linkId:t,subgraphId:s})));return e.map(({linkId:e,subgraphId:s})=>{let o=JSON.parse(JSON.stringify(t.links[e]));return o.subgraphId=s,o})}{let e={};for(let s of Object.values(t.subgraphs))for(let t of s.links)e[t]=s.id;return Object.values(t.links).filter(e=>t.selectedGraphId===e.graph).map(s=>{const o=e[s.id];return o&&((s=JSON.parse(JSON.stringify(t.links[s.id]))).subgraphId=o),s})}}}),mutations:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ut.mutations),gt.mutations),bt.mutations),vt.mutations),{setState(t,e){0!==Object.keys(e).length&&0!==Object.keys(e.posts).length&&(t.graphs=yt(dt.unserialise,e.graphs),t.posts=yt(ht.unserialise,e.posts),t.links=yt(mt.unserialise,e.links),t.subgraphs=null==e.subgraphs?{}:yt(ft.unserialise,e.subgraphs),t.selectedPostIds=e.selectedPostIds.map(String)||[],t.selectedGraphId=String(e.selectedGraphId)||"1",t.selectedSubgraphIds=e.selectedSubgraphIds.map(String)||[],t.zoom=e.zoom||{x:200,y:100,scale:.5})},setSelectedPostIds(t,e){t.selectedPostIds=e},selectPostId(t,{id:e,canOpenMultiplePosts:s}){t.selectedPostIds.includes(e)&&t.selectedPostIds.splice(t.selectedPostIds.indexOf(e),1),s?t.selectedPostIds.unshift(e):t.selectedPostIds=[e]},unselectPostId(t,e){t.selectedPostIds.splice(t.selectedPostIds.indexOf(e),1)},togglePostId(t,{id:e,canOpenMultiplePosts:s}){t.selectedPostIds.includes(e)?t.selectedPostIds.splice(t.selectedPostIds.indexOf(e),1):s?t.selectedPostIds.unshift(e):t.selectedPostIds=[e]},movePostLeft(t,e){const s=t.selectedPostIds.indexOf(e),o=0===s?t.selectedPostIds.length-1:s-1;t.selectedPostIds=kt(t.selectedPostIds,s,o)},movePostRight(t,e){const s=t.selectedPostIds.indexOf(e),o=s===t.selectedPostIds.length-1?0:s+1;t.selectedPostIds=kt(t.selectedPostIds,s,o)},setSelectedGraphId(t,e){t.selectedSubgraphIds=[],t.selectedGraphId=e},setSelectedSubgraphIds(t,e){t.selectedSubgraphIds=e},selectAllSubgraphs(t){t.selectedSubgraphIds=t.graphs[t.selectedGraphId].subgraphs},toggleSubgraphId(t,e){t.selectedSubgraphIds.includes(e)?t.selectedSubgraphIds.splice(t.selectedSubgraphIds.indexOf(e),1):t.selectedSubgraphIds.push(e)},setZoom(t,e){t.zoom=e}}),actions:Object.assign(Object.assign(Object.assign(Object.assign({},ut.actions),gt.actions),bt.actions),vt.actions),namespaced:!0};var xt={state:{shouldShowClickButtonMenu:!1,clickMode:"openPosts",newLinkSource:null,newLinkTarget:null,newLinkType:"reply",newLinkSubgraphIds:[],linkToEdit:null,wantsToChangeSource:!1,wantsToChangeTarget:!1},getters:{},mutations:{setShouldShowClickButtonMenu(t,e){t.shouldShowClickButtonMenu=e,e||(t.newLinkSource=null,t.newLinkTarget=null,t.newLinkType="reply",t.newLinkSubgraphIds=[],t.linkToEdit=null,t.wantsToChangeSource=!1,t.wantsToChangeTarget=!1)},setClickMode(t,e){t.clickMode=e},setNewLinkSource(t,e){t.newLinkSource=e},setNewLinkTarget(t,e){t.newLinkTarget=e},setNewLinkType(t,e){t.newLinkType=e},setNewLinkSubgraphIds(t,e){t.newLinkSubgraphIds=e},setLinkToEdit(t,e){t.linkToEdit=e},setWantsToChangeSource(t,e){t.wantsToChangeSource=e},setWantsToChangeTarget(t,e){t.wantsToChangeTarget=e}},actions:{async handlePostClick(t,e){if("object"==typeof e)switch(t.state.clickMode){case"openPosts":default:t.commit("dataModule/selectPostId",{id:e.id,canOpenMultiplePosts:t.rootState.settingsModule.canOpenMultiplePosts},{root:!0});break;case"addLink":if(null===t.state.newLinkSource){t.commit("setNewLinkSource",e.id);break}if(t.state.newLinkSource===e.id)return;t.commit("setNewLinkTarget",e.id),t.commit("dataModule/addLink",{source:t.state.newLinkSource,target:t.state.newLinkTarget,graph:t.rootState.dataModule.selectedGraphId,type:t.state.newLinkType,subgraphIds:t.state.newLinkSubgraphIds},{root:!0}),t.commit("setClickMode","openPosts"),t.commit("setNewLinkSource",null),t.commit("setNewLinkTarget",null),t.commit("setNewLinkSubgraphIds",[]);break;case"changeLink":t.state.wantsToChangeSource?(t.commit("dataModule/changeLinkSource",{id:t.state.linkToEdit,source:e.id},{root:!0}),t.commit("setWantsToChangeSource",!1)):t.state.wantsToChangeTarget&&(t.commit("dataModule/changeLinkTarget",{id:t.state.linkToEdit,target:e.id},{root:!0}),t.commit("setWantsToChangeTarget",!1)),t.commit("setClickMode","openPosts"),t.commit("setLinkToEdit",null)}else console.error("no post clicked, clicked",e)},async handleLinkClick(t,{link:e,coordinates:s}){if("object"==typeof e)switch(t.state.clickMode){case"openPosts":{const t=[e.source.x,e.source.y],o=[e.target.x,e.target.y],a=Math.hypot(t[0]-s[0],t[1]-s[1]),n=Math.hypot(o[0]-s[0],o[1]-s[1]);return a<n?e.target.id:n<a?e.source.id:void 0}case"changeLink":t.commit("setLinkToEdit",e.id);break;default:return}else console.error("no link clicked, clicked",e)}},namespaced:!0},It=s("Wcq6"),St=(s("Zs65"),function(t){if(""===t.apiKey)throw new Error("firebase config is wrong, please check it: "+JSON.stringify(t));return It.apps.length||It.initializeApp(t),It.database()});o.a.use(a.a);const Mt=new a.a.Store({strict:!1,modules:{settingsModule:lt,firebaseModule:ct,dataModule:_t,clickerModule:xt},state:{loadingApp:!0,failedToLoadData:!1,isRenderingGraph:!1},getters:{storageObject:t=>({dataModule:t.dataModule,settingsModule:t.settingsModule,firebaseModule:t.firebaseModule})},mutations:{setLoadingApp(t,e){t.loadingApp=e},setFailedToLoadData(t,e){t.failedToLoadData=e},setIsRenderingGraph(t,e){t.isRenderingGraph=e}},actions:{async saveStateToLocalStorage(t){const e=t.getters.storageObject,s=JSON.stringify(e);localStorage.setItem(w,s)},async saveStateToStorage(t){const e=t.getters.storageObject,s=JSON.stringify(e);localStorage.setItem(w,s);switch(t.state.settingsModule.remoteStorageMethod){case"firebase":St(t.state.firebaseModule.firebaseConfig).ref(w).set(s);break}},async loadStateFromStorage(t){const e=localStorage.getItem(w);if(null===e)return void t.commit("setLoadingApp",!1);const s=JSON.parse(e);switch(s.settingsModule.remoteStorageMethod){case"firebase":try{let e=!1;St(s.firebaseModule.firebaseConfig).ref(w).once("value").then(s=>{const o=JSON.parse(s.val());null!==o?(t.dispatch("importState",o),e=!0,t.commit("setLoadingApp",!1)):t.commit("setFailedToLoadData",!0)}).catch(t=>{console.log(t),alert("There was an error loading the state from Firebase, please refresh the page/change your Firebase config in 'settings', and try again")}),setTimeout(()=>{e||t.commit("setFailedToLoadData",!0)},1e4)}catch(e){return t.commit("settingsModule/setRemoteStorageMethod","none",{root:!0}),t.commit("setLoadingApp",!1),void alert(e)}break;case"none":default:t.dispatch("importState",s),t.commit("setLoadingApp",!1)}},async loadDataFrom(t,e){switch(e){case"local":{const e=localStorage.getItem(w);if(null===e)return;const s=JSON.parse(e);t.dispatch("importData",s);break}case"firebase":t.commit("setLoadingApp",!0);try{const e=St(t.state.firebaseModule.firebaseConfig),s=await e.ref(w).once("value"),o=JSON.parse(s.val());await t.dispatch("importData",o)}catch(t){console.log(t),alert("There was an error loading the data from Firebase, please refresh the page/change your Firebase config in 'settings', and try again")}t.commit("setLoadingApp",!1)}},async importState(t,e){(e.dataModule||e.postsModule)&&t.commit("dataModule/setState",e.dataModule||e.postsModule),e.settingsModule&&t.commit("settingsModule/setState",e.settingsModule),e.firebaseModule&&t.commit("firebaseModule/setState",e.firebaseModule)},async importData(t,e){e.dataModule&&t.commit("dataModule/setState",e.dataModule)},async importSettings(t,{storageObject:e,shouldTakeDataFrom:s}){const o=t.state.settingsModule.remoteStorageMethod!==e.settingsModule.remoteStorageMethod;e.settingsModule&&t.commit("settingsModule/setState",e.settingsModule),e.firebaseModule&&t.commit("firebaseModule/setState",e.firebaseModule),o&&await t.dispatch("loadDataFrom",s)}}}),Ct=p()((t,e)=>{if("firebase"===t.settingsModule.remoteStorageMethod){St(t.firebaseModule.firebaseConfig).ref(w).set(e)}},250,{leading:!1,trailing:!0});Mt.subscribe(async(t,e)=>{if(!(e.settingsModule.shouldAutosave&&!["setLoadingApp","setFailedToLoadData","setIsRenderingGraph","settingsModule/setRemoteStorageMethod"].includes(t.type)&&!t.type.endsWith("/setState")&&!t.type.startsWith("clickerModule/")))return;const s={dataModule:e.dataModule,settingsModule:e.settingsModule,firebaseModule:e.firebaseModule},o=JSON.stringify(s);localStorage.setItem(w,o),Ct(e,o)});var wt=Mt;new o.a({store:wt,el:"#offlineGraphApp",components:{OfflineRoot:rt},template:"<OfflineRoot/>"})},Yt15:function(t,e,s){"use strict";var o=s("jUnI");s.n(o).a},ZUxk:function(t,e,s){"use strict";var o=s("4u6i");s.n(o).a},igQp:function(t,e,s){var o=s("EYFr");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,s("SZ7m").default)("3001d946",o,!0,{})},jUnI:function(t,e,s){var o=s("jx+K");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,s("SZ7m").default)("d70305c4",o,!0,{})},"jx+K":function(t,e,s){(e=s("JPst")(!1)).push([t.i,"\n.componentContainer[data-v-4dda639c] {\n    background-color: #eee;\n    color: #333;\n}\n",""]),t.exports=e},kqfd:function(t,e,s){"use strict";var o=s("oOe6");s.n(o).a},lhwy:function(t,e,s){"use strict";var o=s("MZq6");s.n(o).a},oOe6:function(t,e,s){var o=s("LRN4");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,s("SZ7m").default)("736137a9",o,!0,{})},peJi:function(t,e,s){var o=s("xri+");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,s("SZ7m").default)("466fdbd2",o,!0,{})},qt4T:function(t,e,s){"use strict";var o=s("TREb");s.n(o).a},wDO6:function(t,e,s){"use strict";var o=s("igQp");s.n(o).a},"xri+":function(t,e,s){(e=s("JPst")(!1)).push([t.i,'\n.clicker[data-v-145db29a] {\n    position: absolute;\n    bottom: 5%;\n    right: 0;\n}\n.clicker__button[data-v-145db29a] {\n    border-radius: 9999px;\n\n    background: var(--red);\n    color: var(--white);\n    cursor: pointer;\n\n    width: 40px;\n    height: 40px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n.clicker__container[data-v-145db29a] {\n    position: absolute;\n    bottom: 100%;\n    right: 0;\n\n    display: flex;\n    flex-direction: column-reverse;\n    align-items: flex-end;\n\n    background-color: #f7f7f7e6;\n    border-radius: 10px;\n    min-width: 14vw;\n    max-width: 50vw;\n}\n@media (max-width: 768px) {\n.clicker__container[data-v-145db29a] {\n        min-width: 40vw;\n}\n}\n.clicker__actionButtons[data-v-145db29a] {\n    padding: 10px;\n    max-width: 100%;\n}\n.clicker__actionButton[data-v-145db29a] {\n    display: flex;\n    align-items: center;\n\n    border: 1px solid var(--red);\n    padding: 0.5rem 0.75rem;\n    border-radius: 2rem;\n    white-space: nowrap;\n    transition: all 0.3s ease;\n}\n.clicker__actionButton[data-v-145db29a]:hover,\n.clicker__actionButton[data-v-145db29a]:focus,\n.clicker__actionButton[data-v-145db29a]:active {\n    background-color: #e8e8e8;\n}\n.clicker__actionButton[data-v-145db29a]:not(:last-of-type) {\n    margin-bottom: 0.5rem;\n}\n@media (max-width: 768px) {\n.clicker__actionButton[data-v-145db29a] {\n        border: 0;\n        border-radius: 0;\n        padding: 0.25rem;\n}\n.clicker__actionButton[data-v-145db29a]:not(:last-of-type) {\n        margin-bottom: 0.25rem;\n}\n}\n.linkIcon[data-v-145db29a] {\n    display: inline-block;\n    width: 28px;\n    height: 20px;\n\n    background: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTEuNDgyIDYuNTE3MThDMTMuNTgyNSA4LjYxOTg0IDEzLjU1MzYgMTEuOTkwOSAxMS40OTQ2IDE0LjA2MTRDMTEuNDkwOCAxNC4wNjU2IDExLjQ4NjIgMTQuMDcwMiAxMS40ODIgMTQuMDc0NEw5LjExOTQ4IDE2LjQzNjlDNy4wMzU3NyAxOC41MjA2IDMuNjQ1NjkgMTguNTIwMyAxLjU2MjMgMTYuNDM2OUMtMC41MjE0MTYgMTQuMzUzNSAtMC41MjE0MTYgMTAuOTYzIDEuNTYyMyA4Ljg3OTY4TDIuODY2OCA3LjU3NTE4QzMuMjEyNzQgNy4yMjkyNCAzLjgwODUgNy40NTkxNiAzLjgyNjM2IDcuOTQ4MDRDMy44NDkxNCA4LjU3MTA4IDMuOTYwODcgOS4xOTcwNCA0LjE2NzAyIDkuODAxNTJDNC4yMzY4NCAxMC4wMDYyIDQuMTg2OTYgMTAuMjMyNiA0LjAzNDAzIDEwLjM4NTVMMy41NzM5NCAxMC44NDU2QzIuNTg4NjUgMTEuODMwOSAyLjU1Nzc0IDEzLjQzNTIgMy41MzMzMyAxNC40MzAyQzQuNTE4NTUgMTUuNDM0OSA2LjEzNzkyIDE1LjQ0MDkgNy4xMzA2OSAxNC40NDgxTDkuNDkzMTkgMTIuMDg1OUMxMC40ODQzIDExLjA5NDggMTAuNDgwMSA5LjQ5MjkyIDkuNDkzMTkgOC41MDU5N0M5LjM2MzA4IDguMzc2MTEgOS4yMzIwMiA4LjI3NTIxIDkuMTI5NjQgOC4yMDQ3MkM5LjA1NzIyIDguMTU0OTkgOC45OTc0MiA4LjA4OTAxIDguOTU1MDIgOC4wMTIwN0M4LjkxMjYxIDcuOTM1MTIgOC44ODg3OCA3Ljg0OTMzIDguODg1NDEgNy43NjE1NEM4Ljg3MTQ5IDcuMzkwMDQgOS4wMDMxMiA3LjAwNzIzIDkuMjk2NjcgNi43MTM2N0wxMC4wMzY5IDUuOTczNDZDMTAuMjMwOSA1Ljc3OTM2IDEwLjUzNTQgNS43NTU1MiAxMC43NjA1IDUuOTEyNkMxMS4wMTgzIDYuMDkyNTggMTEuMjU5NyA2LjI5NDg5IDExLjQ4MiA2LjUxNzE4VjYuNTE3MThaTTE2LjQzNjcgMS41NjIxOUMxNC4zNTMzIC0wLjUyMTI0IDEwLjk2MzMgLTAuNTIxNTIyIDguODc5NTQgMS41NjIxOUw2LjUxNzA0IDMuOTI0NjlDNi41MTI4MiAzLjkyODkxIDYuNTA4MjUgMy45MzM0OCA2LjUwNDM5IDMuOTM3N0M0LjQ0NTQyIDYuMDA4MTIgNC40MTY1NiA5LjM3OTIyIDYuNTE3MDQgMTEuNDgxOUM2LjczOTMzIDExLjcwNDIgNi45ODA3NCAxMS45MDY1IDcuMjM4NDggMTIuMDg2NEM3LjQ2MzU1IDEyLjI0MzUgNy43NjgwOCAxMi4yMTk2IDcuOTYyMTQgMTIuMDI1Nkw4LjcwMjMyIDExLjI4NTRDOC45OTU4OCAxMC45OTE4IDkuMTI3NSAxMC42MDkgOS4xMTM1OCAxMC4yMzc1QzkuMTEwMjEgMTAuMTQ5NyA5LjA4NjM4IDEwLjA2MzkgOS4wNDM5OCA5Ljk4Njk2QzkuMDAxNTcgOS45MTAwMSA4Ljk0MTc3IDkuODQ0MDQgOC44NjkzNSA5Ljc5NDMxQzguNzY2OTcgOS43MjM4MiA4LjYzNTkxIDkuNjIyOTIgOC41MDU4IDkuNDkzMDZDNy41MTg4NiA4LjUwNjExIDcuNTE0NzEgNi45MDQxOCA4LjUwNTggNS45MTMwOUwxMC44NjgzIDMuNTUwOTRDMTEuODYxMSAyLjU1ODE3IDEzLjQ4MDQgMi41NjQxNCAxNC40NjU3IDMuNTY4ODdDMTUuNDQxMiA0LjU2MzggMTUuNDEwNCA2LjE2ODEyIDE0LjQyNTEgNy4xNTM0MUwxMy45NjUgNy42MTM1QzEzLjgxMiA3Ljc2NjQzIDEzLjc2MjEgNy45OTI4MyAxMy44MzIgOC4xOTc1MUMxNC4wMzgxIDguODAxOTkgMTQuMTQ5OSA5LjQyNzk1IDE0LjE3MjYgMTAuMDUxQzE0LjE5MDUgMTAuNTM5OSAxNC43ODYzIDEwLjc2OTggMTUuMTMyMiAxMC40MjM5TDE2LjQzNjcgOS4xMTkzNEMxOC41MjA0IDcuMDM2MDIgMTguNTIwNCAzLjY0NTU1IDE2LjQzNjcgMS41NjIxOVYxLjU2MjE5WiIgZmlsbD0iY3VycmVudENvbG9yIiBmaWxsLW9wYWNpdHk9IjAuMjUiLz48L3N2Zz4=") no-repeat left;\n    background-size: contain;\n}\n.clicker__contextMenu[data-v-145db29a] {\n    padding: 10px;\n    max-width: 100%;\n    overflow-y: auto;\n}\n',""]),t.exports=e},zpsd:function(t,e,s){(e=s("JPst")(!1)).push([t.i,'\n.postBar {\n    min-width: 33%;\n    background: #eeeeee url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAR0lEQVQYlYWPuw0AQAhC2X9AY+UOTOBVNH7OgkQpHgDzSJJpHk3ySSZ0SPWXsBFqUiNuZGyEmoSNMBJ/a09i9ceOU1dca/U/VPFxnYht7pgAAAAASUVORK5CYII=");\n}\n',""]),t.exports=e}});
//# sourceMappingURL=graph-d7fca2f31c186c02251d.js.map